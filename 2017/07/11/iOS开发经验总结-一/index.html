<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>iOS开发经验总结(一) - 任征的个人博客</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="任征"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="任征"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="1、禁止手机睡眠123[UIApplication sharedApplication].idleTimerDisabled &amp;#x3D; YES;  2、隐藏某行cell12345678910111213- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath&amp;amp;#123;&amp;#x2F;&amp;#x2F;"><meta property="og:type" content="blog"><meta property="og:title" content="iOS开发经验总结(一)"><meta property="og:url" content="https://rzrobert.github.io/2017/07/11/iOS%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93-%E4%B8%80/"><meta property="og:site_name" content="任征的个人博客"><meta property="og:description" content="1、禁止手机睡眠123[UIApplication sharedApplication].idleTimerDisabled &amp;#x3D; YES;  2、隐藏某行cell12345678910111213- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath&amp;amp;#123;&amp;#x2F;&amp;#x2F;"><meta property="og:image" content="https://rzrobert.github.io/img/og_image.png"><meta property="article:published_time" content="2017-07-11T06:00:03.000Z"><meta property="article:modified_time" content="2023-12-18T11:45:48.297Z"><meta property="article:author" content="robert"><meta property="article:tag" content="总结"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://rzrobert.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://rzrobert.github.io/2017/07/11/iOS%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93-%E4%B8%80/"},"headline":"iOS开发经验总结(一)","image":["https://rzrobert.github.io/img/og_image.png"],"datePublished":"2017-07-11T06:00:03.000Z","dateModified":"2023-12-18T11:45:48.297Z","author":{"@type":"Person","name":"robert"},"publisher":{"@type":"Organization","name":"任征的个人博客","logo":{"@type":"ImageObject","url":"https://rzrobert.github.io/img/logo.svg"}},"description":"1、禁止手机睡眠123[UIApplication sharedApplication].idleTimerDisabled &#x3D; YES;  2、隐藏某行cell12345678910111213- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath&amp;#123;&#x2F;&#x2F;"}</script><link rel="canonical" href="https://rzrobert.github.io/2017/07/11/iOS%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93-%E4%B8%80/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="任征的个人博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Suche" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Gepostet vor&nbsp;<time dateTime="2017-07-11T06:00:03.000Z" title="2017/7/11 14:00:03">2017-07-11</time></span><span class="level-item">Aktualisiert vor&nbsp;<time dateTime="2023-12-18T11:45:48.297Z" title="2023/12/18 19:45:48">2023-12-18</time></span><span class="level-item"><a class="link-muted" href="/categories/iOS/">iOS</a></span><span class="level-item">an hour lesen (Über 7896 Wörter)</span></div></div><h1 class="title is-3 is-size-4-mobile">iOS开发经验总结(一)</h1><div class="content"><h3 id="1、禁止手机睡眠"><a href="#1、禁止手机睡眠" class="headerlink" title="1、禁止手机睡眠"></a>1、禁止手机睡眠</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[UIApplication sharedApplication].idleTimerDisabled = YES;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2、隐藏某行cell"><a href="#2、隐藏某行cell" class="headerlink" title="2、隐藏某行cell"></a>2、隐藏某行cell</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">// 如果是你需要隐藏的那一行，返回高度为0</span><br><span class="line">    if(indexPath.row == YouWantToHideRow)</span><br><span class="line">        return 0; </span><br><span class="line">    return 44;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 然后再你需要隐藏cell的时候调用</span><br><span class="line">[self.tableView beginUpdates];</span><br><span class="line">[self.tableView endUpdates];</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<span id="more"></span>
<h3 id="3、禁用button高亮"><a href="#3、禁用button高亮" class="headerlink" title="3、禁用button高亮"></a>3、禁用button高亮</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button.adjustsImageWhenHighlighted = NO;</span><br><span class="line">或者在创建的时候</span><br><span class="line"> UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];</span><br></pre></td></tr></table></figure>
<h3 id="4、tableview遇到这种报错failed-to-obtain-a-cell-from-its-dataSource"><a href="#4、tableview遇到这种报错failed-to-obtain-a-cell-from-its-dataSource" class="headerlink" title="4、tableview遇到这种报错failed to obtain a cell from its dataSource"></a>4、tableview遇到这种报错failed to obtain a cell from its dataSource</h3><p>是因为你的cell被调用的早了。先循环使用了cell，后又创建cell。顺序错了	<br><strong>可能原因</strong>：</p>
<ol>
<li><p>xib的cell没有注册</p>
</li>
<li><p>内存中已经有这个cell的缓存了(也就是说通过你的cellId找到的cell并不是你想要的类型)，这时候需要改下cell的标识</p>
</li>
</ol>
<h3 id="5、cocoa-pods报这个错误：unable-to-access-‘https-github-com-facebook-pop-git-‘-Operation-timed-out-after-0-milliseconds-with-0-out-of-0-bytes-received"><a href="#5、cocoa-pods报这个错误：unable-to-access-‘https-github-com-facebook-pop-git-‘-Operation-timed-out-after-0-milliseconds-with-0-out-of-0-bytes-received" class="headerlink" title="5、cocoa pods报这个错误：unable to access ‘https://github.com/facebook/pop.git/‘: Operation timed out after 0 milliseconds with 0 out of 0 bytes received"></a>5、cocoa pods报这个错误：unable to access ‘<a target="_blank" rel="noopener" href="https://github.com/facebook/pop.git/">https://github.com/facebook/pop.git/</a>‘: Operation timed out after 0 milliseconds with 0 out of 0 bytes received</h3><p><strong>解决办法</strong>：原因可能是网络问题，网络请求超时了，只需要重试就行了</p>
<h3 id="6、cocoa-pods-出现ERROR-While-executing-gem-…-Errno-EPERM"><a href="#6、cocoa-pods-出现ERROR-While-executing-gem-…-Errno-EPERM" class="headerlink" title="6、cocoa pods 出现ERROR: While executing gem … (Errno::EPERM)"></a>6、cocoa pods 出现ERROR: While executing gem … (Errno::EPERM)</h3><p><strong>解决办法</strong>：<br><a target="_blank" rel="noopener" href="https://segmentfault.com/q/1010000002926243">https://segmentfault.com/q/1010000002926243</a></p>
<h3 id="7、动画切换window的根控制器"><a href="#7、动画切换window的根控制器" class="headerlink" title="7、动画切换window的根控制器"></a>7、动画切换window的根控制器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// options是动画选项</span><br><span class="line">[UIView transitionWithView:[UIApplication sharedApplication].keyWindow duration:0.5f options:UIViewAnimationOptionTransitionCrossDissolve animations:^&#123;</span><br><span class="line">        BOOL oldState = [UIView areAnimationsEnabled];</span><br><span class="line">        [UIView setAnimationsEnabled:NO];</span><br><span class="line">        [UIApplication sharedApplication].keyWindow.rootViewController = [RootViewController new];</span><br><span class="line">        [UIView setAnimationsEnabled:oldState];</span><br><span class="line">    &#125; completion:^(BOOL finished) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;];</span><br></pre></td></tr></table></figure>
<h3 id="8、去除数组中重复的对象"><a href="#8、去除数组中重复的对象" class="headerlink" title="8、去除数组中重复的对象"></a>8、去除数组中重复的对象</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSArray *newArr = [oldArr valueForKeyPath:@“@distinctUnionOfObjects.self&quot;];</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="9、编译的时候遇到-no-such-file-or-directory-／users／apple／XXX"><a href="#9、编译的时候遇到-no-such-file-or-directory-／users／apple／XXX" class="headerlink" title="9、编译的时候遇到 no such file or directory: ／users／apple／XXX"></a>9、编译的时候遇到 no such file or directory: ／users／apple／XXX</h3><p>是因为编译的时候，在此路径下找不到这个文件，解决这个问题，首先是是要检查缺少的文件是不是在工程中，如果不在工程中，需要从本地拖进去，如果发现已经存在工程中了，或者拖进去还是报错，这时候需要去build phases中搜索这个文件，这时候很可能会搜出现两个相同的文件，这时候，有一个路径是正确的，删除另外一个即可。如果删除了还是不行，需要把两个都删掉，然后重新往工程里拖进这个文件即可</p>
<p>build phases</p>
<h3 id="10、iOS8系统中，tableView最好实现下-tableView-heightForRowAtIndexPath-这个代理方法，要不然在iOS8中可能就会出现显示不全或者无法响应事件的问题"><a href="#10、iOS8系统中，tableView最好实现下-tableView-heightForRowAtIndexPath-这个代理方法，要不然在iOS8中可能就会出现显示不全或者无法响应事件的问题" class="headerlink" title="10、iOS8系统中，tableView最好实现下-tableView: heightForRowAtIndexPath:这个代理方法，要不然在iOS8中可能就会出现显示不全或者无法响应事件的问题"></a>10、iOS8系统中，tableView最好实现下-tableView: heightForRowAtIndexPath:这个代理方法，要不然在iOS8中可能就会出现显示不全或者无法响应事件的问题</h3><h3 id="11、iOS8中实现侧滑功能的时候这个方法必须实现，要不然在iOS8中无法侧滑"><a href="#11、iOS8中实现侧滑功能的时候这个方法必须实现，要不然在iOS8中无法侧滑" class="headerlink" title="11、iOS8中实现侧滑功能的时候这个方法必须实现，要不然在iOS8中无法侧滑"></a>11、iOS8中实现侧滑功能的时候这个方法必须实现，要不然在iOS8中无法侧滑</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 必须写的方法，和editActionsForRowAtIndexPath配对使用，里面什么不写也行</span><br><span class="line">- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="12、三个通知"><a href="#12、三个通知" class="headerlink" title="12、三个通知"></a>12、三个通知</h3><p>**<code>NSSystemTimeZoneDidChangeNotification</code>**监听修改时间界面的两个按钮状态变化	<br><strong><code>UIApplicationSignificantTimeChangeNotification</code></strong> 监听用户改变时间 （只要点击自动设置按钮就会调用）	<br> <strong><code>NSSystemClockDidChangeNotification</code></strong> 监听用户修改时间（时间不同才会调用）</p>
<h3 id="13、SDWebImage本地缓存有时候会害人。如果之前缓存过一张图片，即使下次服务器换了这张图片，但是图片url没换，用sdwebimage下载下来的还是以前那张-所以遇到这种问题，不要先去怼服务器，清空下缓存再试就好了。"><a href="#13、SDWebImage本地缓存有时候会害人。如果之前缓存过一张图片，即使下次服务器换了这张图片，但是图片url没换，用sdwebimage下载下来的还是以前那张-所以遇到这种问题，不要先去怼服务器，清空下缓存再试就好了。" class="headerlink" title="13、SDWebImage本地缓存有时候会害人。如果之前缓存过一张图片，即使下次服务器换了这张图片，但是图片url没换，用sdwebimage下载下来的还是以前那张,所以遇到这种问题，不要先去怼服务器，清空下缓存再试就好了。"></a>13、SDWebImage本地缓存有时候会害人。如果之前缓存过一张图片，即使下次服务器换了这张图片，但是图片url没换，用sdwebimage下载下来的还是以前那张,所以遇到这种问题，不要先去怼服务器，清空下缓存再试就好了。</h3><h3 id="14、上线前注意："><a href="#14、上线前注意：" class="headerlink" title="14、上线前注意："></a>14、上线前注意：</h3><ol>
<li>删掉代码中所有的测试代码</li>
<li>如果后台有审核模式，提醒后台开启此模式</li>
<li>主流程再跑一跑</li>
<li>全局搜索waring，检查所有标记waring的地方</li>
</ol>
<h3 id="15、跳进app权限设置"><a href="#15、跳进app权限设置" class="headerlink" title="15、跳进app权限设置"></a>15、跳进app权限设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 跳进app设置</span><br><span class="line">            if (UIApplicationOpenSettingsURLString != NULL) &#123;</span><br><span class="line">                UIApplication *application = [UIApplication sharedApplication];</span><br><span class="line">                NSURL *URL = [NSURL URLWithString:UIApplicationOpenSettingsURLString];</span><br><span class="line">                if ([application respondsToSelector:@selector(openURL:options:completionHandler:)]) &#123;</span><br><span class="line">                    [application openURL:URL options:@&#123;&#125;</span><br><span class="line">                       completionHandler:nil];</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    [application openURL:URL];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<h3 id="16、给一个view截图"><a href="#16、给一个view截图" class="headerlink" title="16、给一个view截图"></a>16、给一个view截图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UIGraphicsBeginImageContextWithOptions(view.bounds.size, YES, 0.0);</span><br><span class="line">    [view.layer renderInContext:UIGraphicsGetCurrentContext()];</span><br><span class="line">    UIImage *img = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h3 id="17、开发中如果要动态修改tableView的tableHeaderView或者tableFooterView的高度，需要给tableView重新设置，而不是直接更改高度。正确的做法是重新设置一下tableView-tableFooterView-更改过高度的view。为什么？其实在iOS8以上直接改高度是没有问题的，在iOS8中出现了contentSize不准确的问题，这是解决办法。"><a href="#17、开发中如果要动态修改tableView的tableHeaderView或者tableFooterView的高度，需要给tableView重新设置，而不是直接更改高度。正确的做法是重新设置一下tableView-tableFooterView-更改过高度的view。为什么？其实在iOS8以上直接改高度是没有问题的，在iOS8中出现了contentSize不准确的问题，这是解决办法。" class="headerlink" title="17、开发中如果要动态修改tableView的tableHeaderView或者tableFooterView的高度，需要给tableView重新设置，而不是直接更改高度。正确的做法是重新设置一下tableView.tableFooterView &#x3D; 更改过高度的view。为什么？其实在iOS8以上直接改高度是没有问题的，在iOS8中出现了contentSize不准确的问题，这是解决办法。"></a>17、开发中如果要动态修改tableView的tableHeaderView或者tableFooterView的高度，需要给tableView重新设置，而不是直接更改高度。正确的做法是重新设置一下tableView.tableFooterView &#x3D; 更改过高度的view。为什么？其实在iOS8以上直接改高度是没有问题的，在iOS8中出现了contentSize不准确的问题，这是解决办法。</h3><h3 id="18、注意对象为nil的时候，调用此对象分类的方法不会执行"><a href="#18、注意对象为nil的时候，调用此对象分类的方法不会执行" class="headerlink" title="18、注意对象为nil的时候，调用此对象分类的方法不会执行"></a>18、注意对象为nil的时候，调用此对象分类的方法不会执行</h3><h3 id="19、collectionView的内容小于其宽高的时候是不能滚动的，设置可以滚动："><a href="#19、collectionView的内容小于其宽高的时候是不能滚动的，设置可以滚动：" class="headerlink" title="19、collectionView的内容小于其宽高的时候是不能滚动的，设置可以滚动："></a>19、collectionView的内容小于其宽高的时候是不能滚动的，设置可以滚动：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">collectionView.alwaysBounceHorizontal = YES;</span><br><span class="line">collectionView.alwaysBounceVertical = YES;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="20、设置navigationBar上的title颜色和大小"><a href="#20、设置navigationBar上的title颜色和大小" class="headerlink" title="20、设置navigationBar上的title颜色和大小"></a>20、设置navigationBar上的title颜色和大小</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[self.navigationController.navigationBar setTitleTextAttributes:@&#123;NSForegroundColorAttributeName : [UIColor youColor], NSFontAttributeName : [UIFont systemFontOfSize:15]&#125;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="21、颜色转图片"><a href="#21、颜色转图片" class="headerlink" title="21、颜色转图片"></a>21、颜色转图片</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">+ (UIImage *)cl_imageWithColor:(UIColor *)color &#123;</span><br><span class="line">  CGRect rect = CGRectMake(0.0f, 0.0f, 1.0f, 1.0f);</span><br><span class="line">  UIGraphicsBeginImageContext(rect.size);</span><br><span class="line">  CGContextRef context = UIGraphicsGetCurrentContext();</span><br><span class="line"></span><br><span class="line">  CGContextSetFillColorWithColor(context, [color CGColor]);</span><br><span class="line">  CGContextFillRect(context, rect);</span><br><span class="line"></span><br><span class="line">  UIImage *image = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">  UIGraphicsEndImageContext();</span><br><span class="line"></span><br><span class="line">  return image;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="22、view设置圆角"><a href="#22、view设置圆角" class="headerlink" title="22、view设置圆角"></a>22、view设置圆角</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#define ViewBorderRadius(View, Radius, Width, Color)\</span><br><span class="line">\</span><br><span class="line">[View.layer setCornerRadius:(Radius)];\</span><br><span class="line">[View.layer setMasksToBounds:YES];\</span><br><span class="line">[View.layer setBorderWidth:(Width)];\</span><br><span class="line">[View.layer setBorderColor:[Color CGColor]] // view圆角</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="23、强／弱引用"><a href="#23、强／弱引用" class="headerlink" title="23、强／弱引用"></a>23、强／弱引用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#define WeakSelf(type)  __weak typeof(type) weak##type = type; // weak</span><br><span class="line">#define StrongSelf(type)  __strong typeof(type) type = weak##type; // strong</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="24、由角度转换弧度"><a href="#24、由角度转换弧度" class="headerlink" title="24、由角度转换弧度"></a>24、由角度转换弧度</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define DegreesToRadian(x) (M_PI * (x) / 180.0)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="25、由弧度转换角度"><a href="#25、由弧度转换角度" class="headerlink" title="25、由弧度转换角度"></a>25、由弧度转换角度</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define RadianToDegrees(radian) (radian*180.0)/(M_PI)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="26、获取图片资源"><a href="#26、获取图片资源" class="headerlink" title="26、获取图片资源"></a>26、获取图片资源</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define GetImage(imageName) [UIImage imageNamed:[NSString stringWithFormat:@&quot;%@&quot;,imageName]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="27、获取temp"><a href="#27、获取temp" class="headerlink" title="27、获取temp"></a>27、获取temp</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define PathTemp NSTemporaryDirectory()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="28、获取沙盒-Document"><a href="#28、获取沙盒-Document" class="headerlink" title="28、获取沙盒 Document"></a>28、获取沙盒 Document</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define PathDocument [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) firstObject]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="29、获取沙盒-Cache"><a href="#29、获取沙盒-Cache" class="headerlink" title="29、获取沙盒 Cache"></a>29、获取沙盒 Cache</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define PathCache [NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) firstObject]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="30、GCD代码只执行一次"><a href="#30、GCD代码只执行一次" class="headerlink" title="30、GCD代码只执行一次"></a>30、GCD代码只执行一次</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define kDISPATCH_ONCE_BLOCK(onceBlock) static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, onceBlock);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="31、自定义NSLog"><a href="#31、自定义NSLog" class="headerlink" title="31、自定义NSLog"></a>31、自定义NSLog</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#ifdef DEBUG</span><br><span class="line">#define NSLog(fmt, ...) NSLog((@&quot;%s [Line %d] &quot; fmt), __PRETTY_FUNCTION__, __LINE__, ##__VA_ARGS__)</span><br><span class="line">#else</span><br><span class="line">#define NSLog(...)</span><br><span class="line">#endif</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="32、Font"><a href="#32、Font" class="headerlink" title="32、Font"></a>32、Font</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#define FontL(s)             [UIFont systemFontOfSize:s weight:UIFontWeightLight]</span><br><span class="line">#define FontR(s)             [UIFont systemFontOfSize:s weight:UIFontWeightRegular]</span><br><span class="line">#define FontB(s)             [UIFont systemFontOfSize:s weight:UIFontWeightBold]</span><br><span class="line">#define FontT(s)             [UIFont systemFontOfSize:s weight:UIFontWeightThin]</span><br><span class="line">#define Font(s)              FontL(s)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="33、FORMAT"><a href="#33、FORMAT" class="headerlink" title="33、FORMAT"></a>33、FORMAT</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define FORMAT(f, ...)      [NSString stringWithFormat:f, ## __VA_ARGS__]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="34、在主线程上运行"><a href="#34、在主线程上运行" class="headerlink" title="34、在主线程上运行"></a>34、在主线程上运行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define kDISPATCH_MAIN_THREAD(mainQueueBlock) dispatch_async(dispatch_get_main_queue(), mainQueueBlock);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="35、开启异步线程"><a href="#35、开启异步线程" class="headerlink" title="35、开启异步线程"></a>35、开启异步线程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define kDISPATCH_GLOBAL_QUEUE_DEFAULT(globalQueueBlock) dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), globalQueueBlocl);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="36、通知"><a href="#36、通知" class="headerlink" title="36、通知"></a>36、通知</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#define NOTIF_ADD(n, f)     [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(f) name:n object:nil]</span><br><span class="line">#define NOTIF_POST(n, o)    [[NSNotificationCenter defaultCenter] postNotificationName:n object:o]</span><br><span class="line">#define NOTIF_REMV()        [[NSNotificationCenter defaultCenter] removeObserver:self]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="37、随机颜色"><a href="#37、随机颜色" class="headerlink" title="37、随机颜色"></a>37、随机颜色</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+ (UIColor *)RandomColor &#123;</span><br><span class="line">    NSInteger aRedValue = arc4random() % 255;</span><br><span class="line">    NSInteger aGreenValue = arc4random() % 255;</span><br><span class="line">    NSInteger aBlueValue = arc4random() % 255;</span><br><span class="line">    UIColor *randColor = [UIColor colorWithRed:aRedValue / 255.0f green:aGreenValue / 255.0f blue:aBlueValue / 255.0f alpha:1.0f];</span><br><span class="line">    return randColor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="38、获取window"><a href="#38、获取window" class="headerlink" title="38、获取window"></a>38、获取window</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">+(UIWindow*)getWindow &#123;</span><br><span class="line">    UIWindow* win = nil; //[UIApplication sharedApplication].keyWindow;</span><br><span class="line">    for (id item in [UIApplication sharedApplication].windows) &#123;</span><br><span class="line">        if ([item class] == [UIWindow class]) &#123;</span><br><span class="line">            if (!((UIWindow*)item).hidden) &#123;</span><br><span class="line">                win = item;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return win;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="39、修改textField的placeholder的字体颜色、大小"><a href="#39、修改textField的placeholder的字体颜色、大小" class="headerlink" title="39、修改textField的placeholder的字体颜色、大小"></a>39、修改textField的placeholder的字体颜色、大小</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[textField setValue:[UIColor redColor] forKeyPath:@&quot;_placeholderLabel.textColor&quot;];</span><br><span class="line">[textField setValue:[UIFont boldSystemFontOfSize:16] forKeyPath:@&quot;_placeholderLabel.font&quot;];</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="40、统一收起键盘"><a href="#40、统一收起键盘" class="headerlink" title="40、统一收起键盘"></a>40、统一收起键盘</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[[UIApplication sharedApplication] keyWindow] endEditing:YES];</span><br></pre></td></tr></table></figure>

<h3 id="41、控制屏幕旋转，在控制器中写"><a href="#41、控制屏幕旋转，在控制器中写" class="headerlink" title="41、控制屏幕旋转，在控制器中写"></a>41、控制屏幕旋转，在控制器中写</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/** 是否支持自动转屏 */</span><br><span class="line">- (BOOL)shouldAutorotate &#123;</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** 支持哪些屏幕方向 */</span><br><span class="line">- (UIInterfaceOrientationMask)supportedInterfaceOrientations &#123;</span><br><span class="line">    return UIInterfaceOrientationMaskLandscapeLeft | UIInterfaceOrientationMaskLandscapeRight;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** 默认的屏幕方向（当前ViewController必须是通过模态出来的UIViewController（模态带导航的无效）方式展现出来的，才会调用这个方法） */</span><br><span class="line">- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation &#123;</span><br><span class="line">    return UIInterfaceOrientationLandscapeLeft | UIInterfaceOrientationLandscapeRight;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="42、获取app缓存大小"><a href="#42、获取app缓存大小" class="headerlink" title="42、获取app缓存大小"></a>42、获取app缓存大小</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">- (CGFloat)getCachSize &#123;</span><br><span class="line"></span><br><span class="line">    NSUInteger imageCacheSize = [[SDImageCache sharedImageCache] getSize];</span><br><span class="line">    //获取自定义缓存大小</span><br><span class="line">    //用枚举器遍历 一个文件夹的内容</span><br><span class="line">    //1.获取 文件夹枚举器</span><br><span class="line">    NSString *myCachePath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;Library/Caches&quot;];</span><br><span class="line">    NSDirectoryEnumerator *enumerator = [[NSFileManager defaultManager] enumeratorAtPath:myCachePath];</span><br><span class="line">    __block NSUInteger count = 0;</span><br><span class="line">    //2.遍历</span><br><span class="line">    for (NSString *fileName in enumerator) &#123;</span><br><span class="line">        NSString *path = [myCachePath stringByAppendingPathComponent:fileName];</span><br><span class="line">        NSDictionary *fileDict = [[NSFileManager defaultManager] attributesOfItemAtPath:path error:nil];</span><br><span class="line">        count += fileDict.fileSize;//自定义所有缓存大小</span><br><span class="line">    &#125;</span><br><span class="line">    // 得到是字节  转化为M</span><br><span class="line">    CGFloat totalSize = ((CGFloat)imageCacheSize+count)/1024/1024;</span><br><span class="line">    return totalSize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="43、清理app缓存"><a href="#43、清理app缓存" class="headerlink" title="43、清理app缓存"></a>43、清理app缓存</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (void)handleClearView &#123;</span><br><span class="line">    //删除两部分</span><br><span class="line">    //1.删除 sd 图片缓存</span><br><span class="line">    //先清除内存中的图片缓存</span><br><span class="line">    [[SDImageCache sharedImageCache] clearMemory];</span><br><span class="line">    //清除磁盘的缓存</span><br><span class="line">    [[SDImageCache sharedImageCache] clearDisk];</span><br><span class="line">    //2.删除自己缓存</span><br><span class="line">    NSString *myCachePath = [NSHomeDirectory() stringByAppendingPathComponent:@&quot;Library/Caches&quot;];</span><br><span class="line">    [[NSFileManager defaultManager] removeItemAtPath:myCachePath error:nil];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="44、模型转字典"><a href="#44、模型转字典" class="headerlink" title="44、模型转字典"></a>44、模型转字典</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">static NSSet *classes;</span><br><span class="line"></span><br><span class="line">- (NSMutableDictionary *)getParameterDictionary &#123;</span><br><span class="line"></span><br><span class="line">    NSMutableDictionary *dict = [NSMutableDictionary dictionary];</span><br><span class="line"></span><br><span class="line">    Class c = self.class;</span><br><span class="line"></span><br><span class="line">    while (c) &#123;</span><br><span class="line">        unsigned count;</span><br><span class="line">        objc_property_t *properties = class_copyPropertyList([c class], &amp;count);</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; count; i++) &#123;</span><br><span class="line">            NSString *key = [NSString stringWithUTF8String:property_getName(properties[i])];</span><br><span class="line">            dict[key] = [self valueForKey:key];</span><br><span class="line">        &#125;</span><br><span class="line">        free(properties);</span><br><span class="line"></span><br><span class="line">        // 获得父类</span><br><span class="line">        c = class_getSuperclass(c);</span><br><span class="line"></span><br><span class="line">        if ([self isClassFromFoundation:c]) break;</span><br><span class="line">    &#125;</span><br><span class="line">    return dict;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (BOOL)isClassFromFoundation:(Class)c</span><br><span class="line">&#123;</span><br><span class="line">    if (c == [NSObject class] || c == [NSManagedObject class]) return YES;</span><br><span class="line"></span><br><span class="line">    __block BOOL result = NO;</span><br><span class="line">    [[self foundationClasses] enumerateObjectsUsingBlock:^(Class foundationClass, BOOL *stop) &#123;</span><br><span class="line">        if ([c isSubclassOfClass:foundationClass]) &#123;</span><br><span class="line">            result = YES;</span><br><span class="line">            *stop = YES;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSSet *)foundationClasses</span><br><span class="line">&#123;</span><br><span class="line">    if (classes == nil) &#123;</span><br><span class="line">        // 集合中没有NSObject，因为几乎所有的类都是继承自NSObject，具体是不是NSObject需要特殊判断</span><br><span class="line">        classes = [NSSet setWithObjects:</span><br><span class="line">                              [NSURL class],</span><br><span class="line">                              [NSDate class],</span><br><span class="line">                              [NSValue class],</span><br><span class="line">                              [NSData class],</span><br><span class="line">                              [NSError class],</span><br><span class="line">                              [NSArray class],</span><br><span class="line">                              [NSDictionary class],</span><br><span class="line">                              [NSString class],</span><br><span class="line">                              [NSAttributedString class], nil];</span><br><span class="line">    &#125;</span><br><span class="line">    return classes;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="45、交换两个方法实现"><a href="#45、交换两个方法实现" class="headerlink" title="45、交换两个方法实现"></a>45、交换两个方法实现</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Class aClass = [self class]; </span><br><span class="line"></span><br><span class="line">        SEL originalSelector = @selector(viewWillAppear:); </span><br><span class="line">        SEL swizzledSelector = @selector(xxx_viewWillAppear:); </span><br><span class="line"></span><br><span class="line">        Method originalMethod = class_getInstanceMethod(aClass, originalSelector); </span><br><span class="line">        Method swizzledMethod = class_getInstanceMethod(aClass, swizzledSelector); </span><br><span class="line"></span><br><span class="line">        BOOL didAddMethod = </span><br><span class="line">            class_addMethod(aClass, </span><br><span class="line">                originalSelector, </span><br><span class="line">                method_getImplementation(swizzledMethod), </span><br><span class="line">                method_getTypeEncoding(swizzledMethod)); </span><br><span class="line"></span><br><span class="line">        if (didAddMethod) &#123; </span><br><span class="line">            class_replaceMethod(aClass, </span><br><span class="line">                swizzledSelector, </span><br><span class="line">                method_getImplementation(originalMethod), </span><br><span class="line">                method_getTypeEncoding(originalMethod)); </span><br><span class="line">        &#125; else &#123; </span><br><span class="line">            method_exchangeImplementations(originalMethod, swizzledMethod); </span><br><span class="line">        &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="46、打印百分号和引号"><a href="#46、打印百分号和引号" class="headerlink" title="46、打印百分号和引号"></a>46、打印百分号和引号</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSLog(@&quot;%%&quot;);</span><br><span class="line">NSLog(@&quot;\&quot;&quot;);</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<h3 id="47、几个常用权限判断"><a href="#47、几个常用权限判断" class="headerlink" title="47、几个常用权限判断"></a>47、几个常用权限判断</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if ([CLLocationManager authorizationStatus] ==kCLAuthorizationStatusDenied) &#123;</span><br><span class="line">    NSLog(@&quot;没有定位权限&quot;);</span><br><span class="line">&#125;</span><br><span class="line">AVAuthorizationStatus statusVideo = [AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeVideo];</span><br><span class="line">if (statusVideo == AVAuthorizationStatusDenied) &#123;</span><br><span class="line">    NSLog(@&quot;没有摄像头权限&quot;);</span><br><span class="line">&#125;</span><br><span class="line">//是否有麦克风权限</span><br><span class="line">AVAuthorizationStatus statusAudio = [AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeAudio];</span><br><span class="line">if (statusAudio == AVAuthorizationStatusDenied) &#123;</span><br><span class="line">    NSLog(@&quot;没有录音权限&quot;);</span><br><span class="line">&#125;</span><br><span class="line">[PHPhotoLibrary requestAuthorization:^(PHAuthorizationStatus status) &#123;</span><br><span class="line">    if (status == PHAuthorizationStatusDenied) &#123;</span><br><span class="line">        NSLog(@&quot;没有相册权限&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;];</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="48、获取手机型号"><a href="#48、获取手机型号" class="headerlink" title="48、获取手机型号"></a>48、获取手机型号</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">    + (NSString *)getDeviceInfo &#123;</span><br><span class="line">    struct utsname systemInfo;</span><br><span class="line">    uname(&amp;systemInfo);</span><br><span class="line">    NSString *platform = [NSString stringWithCString:systemInfo.machine encoding:NSASCIIStringEncoding];</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone1,1&quot;]) return @&quot;iPhone 2G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone1,2&quot;]) return @&quot;iPhone 3G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone2,1&quot;]) return @&quot;iPhone 3GS&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone3,1&quot;]) return @&quot;iPhone 4&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone3,2&quot;]) return @&quot;iPhone 4&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone3,3&quot;]) return @&quot;iPhone 4&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone4,1&quot;]) return @&quot;iPhone 4S&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone5,1&quot;]) return @&quot;iPhone 5&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone5,2&quot;]) return @&quot;iPhone 5&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone5,3&quot;]) return @&quot;iPhone 5c&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone5,4&quot;]) return @&quot;iPhone 5c&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone6,1&quot;]) return @&quot;iPhone 5s&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone6,2&quot;]) return @&quot;iPhone 5s&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone7,1&quot;]) return @&quot;iPhone 6 Plus&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone7,2&quot;]) return @&quot;iPhone 6&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone8,1&quot;]) return @&quot;iPhone 6s&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone8,2&quot;]) return @&quot;iPhone 6s Plus&quot;;</span><br><span class="line">    // 日行两款手机型号均为日本独占，可能使用索尼FeliCa支付方案而不是苹果支付</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone9,1&quot;])    return @&quot;国行、日版、港行iPhone 7&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone9,2&quot;])    return @&quot;港行、国行iPhone 7 Plus&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone9,3&quot;])    return @&quot;美版、台版iPhone 7&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone9,4&quot;])    return @&quot;美版、台版iPhone 7 Plus&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPhone8,4&quot;]) return @&quot;iPhone SE&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPod1,1&quot;]) return @&quot;iPod Touch 1G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPod2,1&quot;]) return @&quot;iPod Touch 2G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPod3,1&quot;]) return @&quot;iPod Touch 3G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPod4,1&quot;]) return @&quot;iPod Touch 4G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPod5,1&quot;]) return @&quot;iPod Touch 5G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad1,1&quot;]) return @&quot;iPad 1G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad2,1&quot;]) return @&quot;iPad 2&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad2,2&quot;]) return @&quot;iPad 2&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad2,3&quot;]) return @&quot;iPad 2&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad2,4&quot;]) return @&quot;iPad 2&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad2,5&quot;]) return @&quot;iPad Mini 1G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad2,6&quot;]) return @&quot;iPad Mini 1G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad2,7&quot;]) return @&quot;iPad Mini 1G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad3,1&quot;]) return @&quot;iPad 3&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad3,2&quot;]) return @&quot;iPad 3&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad3,3&quot;]) return @&quot;iPad 3&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad3,4&quot;]) return @&quot;iPad 4&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad3,5&quot;]) return @&quot;iPad 4&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad3,6&quot;]) return @&quot;iPad 4&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad4,1&quot;]) return @&quot;iPad Air&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad4,2&quot;]) return @&quot;iPad Air&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad4,3&quot;]) return @&quot;iPad Air&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad4,4&quot;]) return @&quot;iPad Mini 2G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad4,5&quot;]) return @&quot;iPad Mini 2G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;iPad4,6&quot;]) return @&quot;iPad Mini 2G&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;i386&quot;]) return @&quot;iPhone Simulator&quot;;</span><br><span class="line">    if ([platform isEqualToString:@&quot;x86_64&quot;]) return @&quot;iPhone Simulator&quot;;</span><br><span class="line">    return platform;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="49、长按复制功能"><a href="#49、长按复制功能" class="headerlink" title="49、长按复制功能"></a>49、长按复制功能</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidLoad</span><br><span class="line">&#123;</span><br><span class="line">    [self.view addGestureRecognizer:[[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(pasteBoard:)]];</span><br><span class="line">&#125;</span><br><span class="line">- (void)pasteBoard:(UILongPressGestureRecognizer *)longPress &#123;</span><br><span class="line">    if (longPress.state == UIGestureRecognizerStateBegan) &#123;</span><br><span class="line">        UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];</span><br><span class="line">        pasteboard.string = @&quot;需要复制的文本&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="50、cocoapods升级"><a href="#50、cocoapods升级" class="headerlink" title="50、cocoapods升级"></a>50、cocoapods升级</h3><p>在终端执行 <code>sudo gem install -n / usr / local / bin cocoapods --pre</code></p>
<h3 id="51、设置启动页后，依然显示之前的"><a href="#51、设置启动页后，依然显示之前的" class="headerlink" title="51、设置启动页后，依然显示之前的"></a>51、设置启动页后，依然显示之前的</h3><p>删除app，手机重启，重新安装</p>
<h3 id="52、判断图片类型"><a href="#52、判断图片类型" class="headerlink" title="52、判断图片类型"></a>52、判断图片类型</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">//通过图片Data数据第一个字节 来获取图片扩展名</span><br><span class="line">- (NSString *)contentTypeForImageData:(NSData *)data</span><br><span class="line">&#123;</span><br><span class="line">    uint8_t c;</span><br><span class="line">    [data getBytes:&amp;c length:1];</span><br><span class="line">    switch (c)</span><br><span class="line">    &#123;</span><br><span class="line">        case 0xFF:</span><br><span class="line">            return @&quot;jpeg&quot;;</span><br><span class="line"></span><br><span class="line">        case 0x89:</span><br><span class="line">            return @&quot;png&quot;;</span><br><span class="line"></span><br><span class="line">        case 0x47:</span><br><span class="line">            return @&quot;gif&quot;;</span><br><span class="line"></span><br><span class="line">        case 0x49:</span><br><span class="line">        case 0x4D:</span><br><span class="line">            return @&quot;tiff&quot;;</span><br><span class="line"></span><br><span class="line">        case 0x52:</span><br><span class="line">        if ([data length] &lt; 12) &#123;</span><br><span class="line">            return nil;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        NSString *testString = [[NSString alloc] initWithData:[data subdataWithRange:NSMakeRange(0, 12)] encoding:NSASCIIStringEncoding];</span><br><span class="line">        if ([testString hasPrefix:@&quot;RIFF&quot;]</span><br><span class="line">            &amp;&amp; [testString hasSuffix:@&quot;WEBP&quot;])</span><br><span class="line">        &#123;</span><br><span class="line">            return @&quot;webp&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return nil;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="53、获取手机和app信息"><a href="#53、获取手机和app信息" class="headerlink" title="53、获取手机和app信息"></a>53、获取手机和app信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">NSDictionary *infoDictionary = [[NSBundle mainBundle] infoDictionary];  </span><br><span class="line"> CFShow(infoDictionary);  </span><br><span class="line">// app名称  </span><br><span class="line"> NSString *app_Name = [infoDictionary objectForKey:@&quot;CFBundleDisplayName&quot;];  </span><br><span class="line"> // app版本  </span><br><span class="line"> NSString *app_Version = [infoDictionary objectForKey:@&quot;CFBundleShortVersionString&quot;];  </span><br><span class="line"> // app build版本  </span><br><span class="line"> NSString *app_build = [infoDictionary objectForKey:@&quot;CFBundleVersion&quot;];  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //手机序列号  </span><br><span class="line">    NSString* identifierNumber = [[UIDevice currentDevice] uniqueIdentifier];  </span><br><span class="line">    NSLog(@&quot;手机序列号: %@&quot;,identifierNumber);  </span><br><span class="line">    //手机别名： 用户定义的名称  </span><br><span class="line">    NSString* userPhoneName = [[UIDevice currentDevice] name];  </span><br><span class="line">    NSLog(@&quot;手机别名: %@&quot;, userPhoneName);  </span><br><span class="line">    //设备名称  </span><br><span class="line">    NSString* deviceName = [[UIDevice currentDevice] systemName];  </span><br><span class="line">    NSLog(@&quot;设备名称: %@&quot;,deviceName );  </span><br><span class="line">    //手机系统版本  </span><br><span class="line">    NSString* phoneVersion = [[UIDevice currentDevice] systemVersion];  </span><br><span class="line">    NSLog(@&quot;手机系统版本: %@&quot;, phoneVersion);  </span><br><span class="line">    //手机型号  </span><br><span class="line">    NSString* phoneModel = [[UIDevice currentDevice] model];  </span><br><span class="line">    NSLog(@&quot;手机型号: %@&quot;,phoneModel );  </span><br><span class="line">    //地方型号  （国际化区域名称）  </span><br><span class="line">    NSString* localPhoneModel = [[UIDevice currentDevice] localizedModel];  </span><br><span class="line">    NSLog(@&quot;国际化区域名称: %@&quot;,localPhoneModel );  </span><br><span class="line"></span><br><span class="line">    NSDictionary *infoDictionary = [[NSBundle mainBundle] infoDictionary];  </span><br><span class="line">    // 当前应用名称  </span><br><span class="line">    NSString *appCurName = [infoDictionary objectForKey:@&quot;CFBundleDisplayName&quot;];  </span><br><span class="line">    NSLog(@&quot;当前应用名称：%@&quot;,appCurName);  </span><br><span class="line">    // 当前应用软件版本  比如：1.0.1  </span><br><span class="line">    NSString *appCurVersion = [infoDictionary objectForKey:@&quot;CFBundleShortVersionString&quot;];  </span><br><span class="line">    NSLog(@&quot;当前应用软件版本:%@&quot;,appCurVersion);  </span><br><span class="line">    // 当前应用版本号码   int类型  </span><br><span class="line">    NSString *appCurVersionNum = [infoDictionary objectForKey:@&quot;CFBundleVersion&quot;];  </span><br><span class="line">    NSLog(@&quot;当前应用版本号码：%@&quot;,appCurVersionNum);</span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h3 id="54、获取一个类的所有属性"><a href="#54、获取一个类的所有属性" class="headerlink" title="54、获取一个类的所有属性"></a>54、获取一个类的所有属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">id LenderClass = objc_getClass(&quot;Lender&quot;);</span><br><span class="line">unsigned int outCount, i;</span><br><span class="line">objc_property_t *properties = class_copyPropertyList(LenderClass, &amp;outCount);</span><br><span class="line">for (i = 0; i &lt; outCount; i++) &#123;</span><br><span class="line">    objc_property_t property = properties[i];</span><br><span class="line">    fprintf(stdout, &quot;%s %s\n&quot;, property_getName(property), property_getAttributes(property));</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="55、image圆角"><a href="#55、image圆角" class="headerlink" title="55、image圆角"></a>55、image圆角</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">- (UIImage *)circleImage</span><br><span class="line">&#123;</span><br><span class="line">    // NO代表透明</span><br><span class="line">    UIGraphicsBeginImageContextWithOptions(self.size, NO, 1);</span><br><span class="line">    // 获得上下文</span><br><span class="line">    CGContextRef ctx = UIGraphicsGetCurrentContext();</span><br><span class="line">    // 添加一个圆</span><br><span class="line">    CGRect rect = CGRectMake(0, 0, self.size.width, self.size.height);</span><br><span class="line">    // 方形变圆形</span><br><span class="line">    CGContextAddEllipseInRect(ctx, rect);</span><br><span class="line">    // 裁剪</span><br><span class="line">    CGContextClip(ctx);</span><br><span class="line">    // 将图片画上去</span><br><span class="line">    [self drawInRect:rect];</span><br><span class="line">    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    return image;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="56、image拉伸"><a href="#56、image拉伸" class="headerlink" title="56、image拉伸"></a>56、image拉伸</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+ (UIImage *)resizableImage:(NSString *)imageName</span><br><span class="line">&#123;</span><br><span class="line">    UIImage *image = [UIImage imageNamed:imageName];</span><br><span class="line">    CGFloat imageW = image.size.width;</span><br><span class="line">    CGFloat imageH = image.size.height;</span><br><span class="line">    return [image resizableImageWithCapInsets:UIEdgeInsetsMake(imageH * 0.5, imageW * 0.5, imageH * 0.5, imageW * 0.5) resizingMode:UIImageResizingModeStretch];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="57、JSON字符串转字典"><a href="#57、JSON字符串转字典" class="headerlink" title="57、JSON字符串转字典"></a>57、JSON字符串转字典</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+ (NSDictionary *)parseJSONStringToNSDictionary:(NSString *)JSONString &#123;</span><br><span class="line">    NSData *JSONData = [JSONString dataUsingEncoding:NSUTF8StringEncoding];</span><br><span class="line">    NSDictionary *responseJSON = [NSJSONSerialization JSONObjectWithData:JSONData options:NSJSONReadingMutableLeaves error:nil];</span><br><span class="line">    return responseJSON;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="58、身份证号验证"><a href="#58、身份证号验证" class="headerlink" title="58、身份证号验证"></a>58、身份证号验证</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)validateIdentityCard &#123;</span><br><span class="line">    BOOL flag;</span><br><span class="line">    if (self.length &lt;= 0) &#123;</span><br><span class="line">        flag = NO;</span><br><span class="line">        return flag;</span><br><span class="line">    &#125;</span><br><span class="line">    NSString *regex2 = @&quot;^(\\d&#123;14&#125;|\\d&#123;17&#125;)(\\d|[xX])$&quot;;</span><br><span class="line">    NSPredicate *identityCardPredicate = [NSPredicate predicateWithFormat:@&quot;SELF MATCHES %@&quot;,regex2];</span><br><span class="line">    return [identityCardPredicate evaluateWithObject:self];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="59、获取设备mac地址"><a href="#59、获取设备mac地址" class="headerlink" title="59、获取设备mac地址"></a>59、获取设备mac地址</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">+ (NSString *)macAddress &#123;</span><br><span class="line">    int                 mib[6];</span><br><span class="line">    size_t              len;</span><br><span class="line">    char                *buf;</span><br><span class="line">    unsigned char       *ptr;</span><br><span class="line">    struct if_msghdr    *ifm;</span><br><span class="line">    struct sockaddr_dl  *sdl;</span><br><span class="line"></span><br><span class="line">    mib[0] = CTL_NET;</span><br><span class="line">    mib[1] = AF_ROUTE;</span><br><span class="line">    mib[2] = 0;</span><br><span class="line">    mib[3] = AF_LINK;</span><br><span class="line">    mib[4] = NET_RT_IFLIST;</span><br><span class="line"></span><br><span class="line">    if((mib[5] = if_nametoindex(&quot;en0&quot;)) == 0) &#123;</span><br><span class="line">        printf(&quot;Error: if_nametoindex error\n&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if(sysctl(mib, 6, NULL, &amp;len, NULL, 0) &lt; 0) &#123;</span><br><span class="line">        printf(&quot;Error: sysctl, take 1\n&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if((buf = malloc(len)) == NULL) &#123;</span><br><span class="line">        printf(&quot;Could not allocate memory. Rrror!\n&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if(sysctl(mib, 6, buf, &amp;len, NULL, 0) &lt; 0) &#123;</span><br><span class="line">        printf(&quot;Error: sysctl, take 2&quot;);</span><br><span class="line">        return NULL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ifm = (struct if_msghdr *)buf;</span><br><span class="line">    sdl = (struct sockaddr_dl *)(ifm + 1);</span><br><span class="line">    ptr = (unsigned char *)LLADDR(sdl);</span><br><span class="line">    NSString *outstring = [NSString stringWithFormat:@&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;,</span><br><span class="line">                           *ptr, *(ptr+1), *(ptr+2), *(ptr+3), *(ptr+4), *(ptr+5)];</span><br><span class="line">    free(buf);</span><br><span class="line"></span><br><span class="line">    return outstring;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="60、导入自定义字体库"><a href="#60、导入自定义字体库" class="headerlink" title="60、导入自定义字体库"></a>60、导入自定义字体库</h3><ol>
<li>找到你想用的字体的 ttf 格式，拖入工程</li>
<li>在工程的plist中增加一行数组，“Fonts provided by application”</li>
<li>为这个key添加一个item，value为你刚才导入的ttf文件名</li>
<li>直接使用即可：label.font &#x3D; [UIFont fontWithName:@”你刚才导入的ttf文件名” size:20.0]；</li>
</ol>
<h3 id="61、拿到当前正在显示的控制器，不管是push进去的，还是present进去的都能拿到"><a href="#61、拿到当前正在显示的控制器，不管是push进去的，还是present进去的都能拿到" class="headerlink" title="61、拿到当前正在显示的控制器，不管是push进去的，还是present进去的都能拿到"></a>61、拿到当前正在显示的控制器，不管是push进去的，还是present进去的都能拿到</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (UIViewController *)getVisibleViewControllerFrom:(UIViewController*)vc &#123;</span><br><span class="line">    if ([vc isKindOfClass:[UINavigationController class]]) &#123;</span><br><span class="line">        return [self getVisibleViewControllerFrom:[((UINavigationController*) vc) visibleViewController]];</span><br><span class="line">    &#125;else if ([vc isKindOfClass:[UITabBarController class]])&#123;</span><br><span class="line">        return [self getVisibleViewControllerFrom:[((UITabBarController*) vc) selectedViewController]];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        if (vc.presentedViewController) &#123;</span><br><span class="line">            return [self getVisibleViewControllerFrom:vc.presentedViewController];</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return vc;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="62、runtime为一个类动态添加属性"><a href="#62、runtime为一个类动态添加属性" class="headerlink" title="62、runtime为一个类动态添加属性"></a>62、runtime为一个类动态添加属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 动态添加属性的本质是: 让对象的某个属性与值产生关联</span><br><span class="line">        objc_setAssociatedObject(self, WZBPlaceholderViewKey, placeholderView, OBJC_ASSOCIATION_RETAIN_NONATOMIC);</span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<h3 id="63、获取runtime为一个类动态添加的属性"><a href="#63、获取runtime为一个类动态添加的属性" class="headerlink" title="63、获取runtime为一个类动态添加的属性"></a>63、获取runtime为一个类动态添加的属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">objc_getAssociatedObject(self, WZBPlaceholderViewKey);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="64、KVO监听某个对象的属性"><a href="#64、KVO监听某个对象的属性" class="headerlink" title="64、KVO监听某个对象的属性"></a>64、KVO监听某个对象的属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 添加监听者</span><br><span class="line">[self addObserver:self forKeyPath:property options:NSKeyValueObservingOptionNew context:nil];</span><br><span class="line"></span><br><span class="line">// 当监听的属性值变化的时候会来到这个方法</span><br><span class="line">- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context &#123;</span><br><span class="line">    if ([keyPath isEqualToString:@&quot;property&quot;]) &#123;</span><br><span class="line">       [self textViewTextChange];</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="65、Reachability判断网络状态"><a href="#65、Reachability判断网络状态" class="headerlink" title="65、Reachability判断网络状态"></a>65、Reachability判断网络状态</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">NetworkStatus status = [[Reachability reachabilityForInternetConnection] currentReachabilityStatus];</span><br><span class="line">    if (status == NotReachable) &#123;</span><br><span class="line">        NSLog(@&quot;当前设备无网络&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    if (status == ReachableViaWiFi) &#123;</span><br><span class="line">        NSLog(@&quot;当前wifi网络&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    if (status == ReachableViaWWAN) &#123;</span><br><span class="line">        NSLog(@&quot;当前蜂窝移动网络&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>


<h3 id="66、AFNetworking监听网络状态"><a href="#66、AFNetworking监听网络状态" class="headerlink" title="66、AFNetworking监听网络状态"></a>66、AFNetworking监听网络状态</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 监听网络状况</span><br><span class="line">    AFNetworkReachabilityManager *mgr = [AFNetworkReachabilityManager sharedManager];</span><br><span class="line">    [mgr setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status) &#123;</span><br><span class="line">        switch (status) &#123;</span><br><span class="line">            case AFNetworkReachabilityStatusUnknown:</span><br><span class="line">                break;</span><br><span class="line">            case AFNetworkReachabilityStatusNotReachable: &#123;</span><br><span class="line">                [SVProgressHUD showInfoWithStatus:@&quot;当前设备无网络&quot;];</span><br><span class="line">            &#125;</span><br><span class="line">                break;</span><br><span class="line">            case AFNetworkReachabilityStatusReachableViaWiFi:</span><br><span class="line">                [SVProgressHUD showInfoWithStatus:@&quot;当前Wi-Fi网络&quot;];</span><br><span class="line">                break;</span><br><span class="line">            case AFNetworkReachabilityStatusReachableViaWWAN:</span><br><span class="line">                [SVProgressHUD showInfoWithStatus:@&quot;当前蜂窝移动网络&quot;];</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    [mgr startMonitoring];</span><br><span class="line">    </span><br></pre></td></tr></table></figure>


<h3 id="67、透明颜色不影响子视图透明度"><a href="#67、透明颜色不影响子视图透明度" class="headerlink" title="67、透明颜色不影响子视图透明度"></a>67、透明颜色不影响子视图透明度</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[UIColor colorWithRed:&lt;#(CGFloat)#&gt; green:&lt;#(CGFloat)#&gt; blue:&lt;#(CGFloat)#&gt; alpha:&lt;#(CGFloat)#&gt;];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="68、取图片某一点的颜色"><a href="#68、取图片某一点的颜色" class="headerlink" title="68、取图片某一点的颜色"></a>68、取图片某一点的颜色</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">if (point.x &lt; 0 || point.y &lt; 0) return nil;</span><br><span class="line"></span><br><span class="line">CGImageRef imageRef = self.CGImage;</span><br><span class="line">NSUInteger width = CGImageGetWidth(imageRef);</span><br><span class="line">NSUInteger height = CGImageGetHeight(imageRef);</span><br><span class="line">if (point.x &gt;= width || point.y &gt;= height) return nil;</span><br><span class="line"></span><br><span class="line">unsigned char *rawData = malloc(height * width * 4);</span><br><span class="line">if (!rawData) return nil;</span><br><span class="line"></span><br><span class="line">CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();</span><br><span class="line">NSUInteger bytesPerPixel = 4;</span><br><span class="line">NSUInteger bytesPerRow = bytesPerPixel * width;</span><br><span class="line">NSUInteger bitsPerComponent = 8;</span><br><span class="line">CGContextRef context = CGBitmapContextCreate(rawData,</span><br><span class="line">                                             width,</span><br><span class="line">                                             height,</span><br><span class="line">                                             bitsPerComponent,</span><br><span class="line">                                             bytesPerRow,</span><br><span class="line">                                             colorSpace,</span><br><span class="line">                                             kCGImageAlphaPremultipliedLast</span><br><span class="line">                                             | kCGBitmapByteOrder32Big);</span><br><span class="line">if (!context) &#123;</span><br><span class="line">    free(rawData);</span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br><span class="line">CGColorSpaceRelease(colorSpace);</span><br><span class="line">CGContextDrawImage(context, CGRectMake(0, 0, width, height), imageRef);</span><br><span class="line">CGContextRelease(context);</span><br><span class="line"></span><br><span class="line">int byteIndex = (bytesPerRow * point.y) + point.x * bytesPerPixel;</span><br><span class="line">CGFloat red   = (rawData[byteIndex]     * 1.0) / 255.0;</span><br><span class="line">CGFloat green = (rawData[byteIndex + 1] * 1.0) / 255.0;</span><br><span class="line">CGFloat blue  = (rawData[byteIndex + 2] * 1.0) / 255.0;</span><br><span class="line">CGFloat alpha = (rawData[byteIndex + 3] * 1.0) / 255.0;</span><br><span class="line"></span><br><span class="line">UIColor *result = nil;</span><br><span class="line">result = [UIColor colorWithRed:red green:green blue:blue alpha:alpha];</span><br><span class="line">free(rawData);</span><br><span class="line">return result;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="69、判断该图片是否有透明度通道"><a href="#69、判断该图片是否有透明度通道" class="headerlink" title="69、判断该图片是否有透明度通道"></a>69、判断该图片是否有透明度通道</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  - (BOOL)hasAlphaChannel</span><br><span class="line">&#123;</span><br><span class="line">    CGImageAlphaInfo alpha = CGImageGetAlphaInfo(self.CGImage);</span><br><span class="line">    return (alpha == kCGImageAlphaFirst ||</span><br><span class="line">            alpha == kCGImageAlphaLast ||</span><br><span class="line">            alpha == kCGImageAlphaPremultipliedFirst ||</span><br><span class="line">            alpha == kCGImageAlphaPremultipliedLast);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="70、获得灰度图"><a href="#70、获得灰度图" class="headerlink" title="70、获得灰度图"></a>70、获得灰度图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">+ (UIImage*)covertToGrayImageFromImage:(UIImage*)sourceImage</span><br><span class="line">&#123;</span><br><span class="line">    int width = sourceImage.size.width;</span><br><span class="line">    int height = sourceImage.size.height;</span><br><span class="line"></span><br><span class="line">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceGray();</span><br><span class="line">    CGContextRef context = CGBitmapContextCreate (nil,width,height,8,0,colorSpace,kCGImageAlphaNone);</span><br><span class="line">    CGColorSpaceRelease(colorSpace);</span><br><span class="line"></span><br><span class="line">    if (context == NULL) &#123;</span><br><span class="line">        return nil;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    CGContextDrawImage(context,CGRectMake(0, 0, width, height), sourceImage.CGImage);</span><br><span class="line">    CGImageRef contextRef = CGBitmapContextCreateImage(context);</span><br><span class="line">    UIImage *grayImage = [UIImage imageWithCGImage:contextRef];</span><br><span class="line">    CGContextRelease(context);</span><br><span class="line">    CGImageRelease(contextRef);</span><br><span class="line"></span><br><span class="line">    return grayImage;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="71、根据bundle中的文件名读取图片"><a href="#71、根据bundle中的文件名读取图片" class="headerlink" title="71、根据bundle中的文件名读取图片"></a>71、根据bundle中的文件名读取图片</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">   + (UIImage *)imageWithFileName:(NSString *)name &#123;</span><br><span class="line">    NSString *extension = @&quot;png&quot;;</span><br><span class="line"></span><br><span class="line">    NSArray *components = [name componentsSeparatedByString:@&quot;.&quot;];</span><br><span class="line">    if ([components count] &gt;= 2) &#123;</span><br><span class="line">        NSUInteger lastIndex = components.count - 1;</span><br><span class="line">        extension = [components objectAtIndex:lastIndex];</span><br><span class="line"></span><br><span class="line">        name = [name substringToIndex:(name.length-(extension.length+1))];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 如果为Retina屏幕且存在对应图片，则返回Retina图片，否则查找普通图片</span><br><span class="line">    if ([UIScreen mainScreen].scale == 2.0) &#123;</span><br><span class="line">        name = [name stringByAppendingString:@&quot;@2x&quot;];</span><br><span class="line"></span><br><span class="line">        NSString *path = [[NSBundle mainBundle] pathForResource:name ofType:extension];</span><br><span class="line">        if (path != nil) &#123;</span><br><span class="line">            return [UIImage imageWithContentsOfFile:path];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if ([UIScreen mainScreen].scale == 3.0) &#123;</span><br><span class="line">        name = [name stringByAppendingString:@&quot;@3x&quot;];</span><br><span class="line"></span><br><span class="line">        NSString *path = [[NSBundle mainBundle] pathForResource:name ofType:extension];</span><br><span class="line">        if (path != nil) &#123;</span><br><span class="line">            return [UIImage imageWithContentsOfFile:path];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    NSString *path = [[NSBundle mainBundle] pathForResource:name ofType:extension];</span><br><span class="line">    if (path) &#123;</span><br><span class="line">        return [UIImage imageWithContentsOfFile:path];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="72、合并两个图片"><a href="#72、合并两个图片" class="headerlink" title="72、合并两个图片"></a>72、合并两个图片</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+ (UIImage*)mergeImage:(UIImage*)firstImage withImage:(UIImage*)secondImage &#123;</span><br><span class="line">    CGImageRef firstImageRef = firstImage.CGImage;</span><br><span class="line">    CGFloat firstWidth = CGImageGetWidth(firstImageRef);</span><br><span class="line">    CGFloat firstHeight = CGImageGetHeight(firstImageRef);</span><br><span class="line">    CGImageRef secondImageRef = secondImage.CGImage;</span><br><span class="line">    CGFloat secondWidth = CGImageGetWidth(secondImageRef);</span><br><span class="line">    CGFloat secondHeight = CGImageGetHeight(secondImageRef);</span><br><span class="line">    CGSize mergedSize = CGSizeMake(MAX(firstWidth, secondWidth), MAX(firstHeight, secondHeight));</span><br><span class="line">    UIGraphicsBeginImageContext(mergedSize);</span><br><span class="line">    [firstImage drawInRect:CGRectMake(0, 0, firstWidth, firstHeight)];</span><br><span class="line">    [secondImage drawInRect:CGRectMake(0, 0, secondWidth, secondHeight)];</span><br><span class="line">    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    return image;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="73、根据bundle中的图片名创建imageview"><a href="#73、根据bundle中的图片名创建imageview" class="headerlink" title="73、根据bundle中的图片名创建imageview"></a>73、根据bundle中的图片名创建imageview</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+ (id)imageViewWithImageNamed:(NSString*)imageName</span><br><span class="line">&#123;</span><br><span class="line">    return [[UIImageView alloc] initWithImage:[UIImage imageNamed:imageName]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="74、为imageView添加倒影"><a href="#74、为imageView添加倒影" class="headerlink" title="74、为imageView添加倒影"></a>74、为imageView添加倒影</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">CGRect frame = self.frame;</span><br><span class="line">frame.origin.y += (frame.size.height + 1);</span><br><span class="line"></span><br><span class="line">UIImageView *reflectionImageView = [[UIImageView alloc] initWithFrame:frame];</span><br><span class="line">self.clipsToBounds = TRUE;</span><br><span class="line">reflectionImageView.contentMode = self.contentMode;</span><br><span class="line">[reflectionImageView setImage:self.image];</span><br><span class="line">reflectionImageView.transform = CGAffineTransformMakeScale(1.0, -1.0);</span><br><span class="line"></span><br><span class="line">CALayer *reflectionLayer = [reflectionImageView layer];</span><br><span class="line"></span><br><span class="line">CAGradientLayer *gradientLayer = [CAGradientLayer layer];</span><br><span class="line">gradientLayer.bounds = reflectionLayer.bounds;</span><br><span class="line">gradientLayer.position = CGPointMake(reflectionLayer.bounds.size.width / 2, reflectionLayer.bounds.size.height * 0.5);</span><br><span class="line">gradientLayer.colors = [NSArray arrayWithObjects:</span><br><span class="line">                        (id)[[UIColor clearColor] CGColor],</span><br><span class="line">                        (id)[[UIColor colorWithRed:1.0 green:1.0 blue:1.0 alpha:0.3] CGColor], nil];</span><br><span class="line"></span><br><span class="line">gradientLayer.startPoint = CGPointMake(0.5,0.5);</span><br><span class="line">gradientLayer.endPoint = CGPointMake(0.5,1.0);</span><br><span class="line">reflectionLayer.mask = gradientLayer;</span><br><span class="line"></span><br><span class="line">[self.superview addSubview:reflectionImageView];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="75、画水印"><a href="#75、画水印" class="headerlink" title="75、画水印"></a>75、画水印</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 画水印</span><br><span class="line">- (void) setImage:(UIImage *)image withWaterMark:(UIImage *)mark inRect:(CGRect)rect</span><br><span class="line">&#123;</span><br><span class="line">    if ([[[UIDevice currentDevice] systemVersion] floatValue] &gt;= 4.0)</span><br><span class="line">    &#123;</span><br><span class="line">        UIGraphicsBeginImageContextWithOptions(self.frame.size, NO, 0.0);</span><br><span class="line">    &#125;</span><br><span class="line">    //原图</span><br><span class="line">    [image drawInRect:self.bounds];</span><br><span class="line">    //水印图</span><br><span class="line">    [mark drawInRect:rect];</span><br><span class="line">    UIImage *newPic = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    self.image = newPic;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="76、让label的文字内容显示在左上／右上／左下／右下／中心顶／中心底部"><a href="#76、让label的文字内容显示在左上／右上／左下／右下／中心顶／中心底部" class="headerlink" title="76、让label的文字内容显示在左上／右上／左下／右下／中心顶／中心底部"></a>76、让label的文字内容显示在左上／右上／左下／右下／中心顶／中心底部</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">自定义UILabel</span><br><span class="line">// 重写label的textRectForBounds方法</span><br><span class="line">- (CGRect)textRectForBounds:(CGRect)bounds limitedToNumberOfLines:(NSInteger)numberOfLines &#123;</span><br><span class="line">    CGRect rect = [super textRectForBounds:bounds limitedToNumberOfLines:numberOfLines];</span><br><span class="line">    switch (self.textAlignmentType) &#123;</span><br><span class="line">        case WZBTextAlignmentTypeLeftTop: &#123;</span><br><span class="line">            rect.origin = bounds.origin;</span><br><span class="line">        &#125;</span><br><span class="line">            break;</span><br><span class="line">        case WZBTextAlignmentTypeRightTop: &#123;</span><br><span class="line">            rect.origin = CGPointMake(CGRectGetMaxX(bounds) - rect.size.width, bounds.origin.y);</span><br><span class="line">        &#125;</span><br><span class="line">            break;</span><br><span class="line">        case WZBTextAlignmentTypeLeftBottom: &#123;</span><br><span class="line">            rect.origin = CGPointMake(bounds.origin.x, CGRectGetMaxY(bounds) - rect.size.height);</span><br><span class="line">        &#125;</span><br><span class="line">            break;</span><br><span class="line">        case WZBTextAlignmentTypeRightBottom: &#123;</span><br><span class="line">            rect.origin = CGPointMake(CGRectGetMaxX(bounds) - rect.size.width, CGRectGetMaxY(bounds) - rect.size.height);</span><br><span class="line">        &#125;</span><br><span class="line">            break;</span><br><span class="line">        case WZBTextAlignmentTypeTopCenter: &#123;</span><br><span class="line">            rect.origin = CGPointMake((CGRectGetWidth(bounds) - CGRectGetWidth(rect)) / 2, CGRectGetMaxY(bounds) - rect.origin.y);</span><br><span class="line">        &#125;</span><br><span class="line">            break;</span><br><span class="line">        case WZBTextAlignmentTypeBottomCenter: &#123;</span><br><span class="line">            rect.origin = CGPointMake((CGRectGetWidth(bounds) - CGRectGetWidth(rect)) / 2, CGRectGetMaxY(bounds) - CGRectGetMaxY(bounds) - rect.size.height);</span><br><span class="line">        &#125;</span><br><span class="line">            break;</span><br><span class="line">        case WZBTextAlignmentTypeLeft: &#123;</span><br><span class="line">            rect.origin = CGPointMake(0, rect.origin.y);</span><br><span class="line">        &#125;</span><br><span class="line">            break;</span><br><span class="line">        case WZBTextAlignmentTypeRight: &#123;</span><br><span class="line">            rect.origin = CGPointMake(rect.origin.x, 0);</span><br><span class="line">        &#125;</span><br><span class="line">            break;</span><br><span class="line">        case WZBTextAlignmentTypeCenter: &#123;</span><br><span class="line">            rect.origin = CGPointMake((CGRectGetWidth(bounds) - CGRectGetWidth(rect)) / 2, (CGRectGetHeight(bounds) - CGRectGetHeight(rect)) / 2);</span><br><span class="line">        &#125;</span><br><span class="line">            break;</span><br><span class="line"></span><br><span class="line">        default:</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">    return rect;</span><br><span class="line">&#125;</span><br><span class="line">- (void)drawTextInRect:(CGRect)rect &#123;</span><br><span class="line">    CGRect textRect = [self textRectForBounds:rect limitedToNumberOfLines:self.numberOfLines];</span><br><span class="line">    [super drawTextInRect:textRect];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="77、scrollView上的输入框，键盘挡住的问题"><a href="#77、scrollView上的输入框，键盘挡住的问题" class="headerlink" title="77、scrollView上的输入框，键盘挡住的问题"></a>77、scrollView上的输入框，键盘挡住的问题</h3><p>推荐用<code>IQKeyboardManager</code>这个框架！<br>手动解决如下	</p>
<ol>
<li>监听键盘弹出／消失的通知		</li>
<li>在通知中加入代码：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">NSDictionary* info = [aNotification userInfo];</span><br><span class="line">CGRect keyPadFrame=[[UIApplication sharedApplication].keyWindow convertRect:[[info objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue] fromView:self.view];</span><br><span class="line">CGSize kbSize =keyPadFrame.size;</span><br><span class="line">CGRect activeRect=[self.view convertRect:activeField.frame fromView:activeField.superview];</span><br><span class="line">CGRect aRect = self.view.bounds;</span><br><span class="line">aRect.size.height -= (kbSize.height);</span><br><span class="line"></span><br><span class="line">CGPoint origin =  activeRect.origin;</span><br><span class="line">origin.y -= backScrollView.contentOffset.y;</span><br><span class="line">if (!CGRectContainsPoint(aRect, origin)) &#123;</span><br><span class="line">    CGPoint scrollPoint = CGPointMake(0.0,CGRectGetMaxY(activeRect)-(aRect.size.height));</span><br><span class="line">    [backScrollView setContentOffset:scrollPoint animated:YES];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="78、frame布局的cell动态高度"><a href="#78、frame布局的cell动态高度" class="headerlink" title="78、frame布局的cell动态高度"></a>78、frame布局的cell动态高度</h3><p>这种通常在你的模型中添加一个辅助属性<code>cellHeight</code>，在模型中重写这个属性的get方法，根据你的布局和模型中的其他属性值计算出总高度。最后在<code>tableView：heightForRow</code>方法中，根据<code>indexPath</code>找出对应的模型，返回这个高度即可。</p>
<h3 id="79、AutoLayout布局的cell动态高度"><a href="#79、AutoLayout布局的cell动态高度" class="headerlink" title="79、AutoLayout布局的cell动态高度"></a>79、AutoLayout布局的cell动态高度</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 1、设置tableView的属性</span><br><span class="line">self.tableView.rowHeight = UITableViewAutomaticDimension;</span><br><span class="line">self.tableView.estimatedRowHeight = 44.0; // 这个属性非0，估计cell高度</span><br><span class="line">// 2、至上而下设置cell的约束，注意，上下左右最好都要顶到cell的四周</span><br><span class="line"></span><br><span class="line">cell</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="80、使用performSelector-调用函数，内存泄漏问题"><a href="#80、使用performSelector-调用函数，内存泄漏问题" class="headerlink" title="80、使用performSelector:调用函数，内存泄漏问题"></a>80、使用performSelector:调用函数，内存泄漏问题</h3><p>当我们在开发中使用[obj performSelector:NSSelectorFromString(@”aMethod”)];这类方法时可能会收到一个警告”performSelector may cause a leak because its selector is unknown”.<br>是因为编译器不清楚这个对象能不能相应这个方法，如果不能，则是不安全的，而且编译器也不清楚该怎么处理这个方法的返回值！<br>使用以下代码调用即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">if (! obj) &#123; return; &#125;</span><br><span class="line">SEL selector = NSSelectorFromString(@&quot;aMethod&quot;);</span><br><span class="line">IMP imp = [obj methodForSelector:selector];</span><br><span class="line">void (*func)(id, SEL) = (void *)imp;</span><br><span class="line">func(obj, selector);</span><br><span class="line"></span><br><span class="line">或者：</span><br><span class="line">SEL selector = NSSelectorFromString(@&quot;aMethod&quot;);</span><br><span class="line">((void (*)(id, SEL))[obj methodForSelector:selector])(obj, selector);</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="81、一个字符串是否包含另一个字符串"><a href="#81、一个字符串是否包含另一个字符串" class="headerlink" title="81、一个字符串是否包含另一个字符串"></a>81、一个字符串是否包含另一个字符串</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 方法1</span><br><span class="line">if ([str1 containsString:str2]) &#123;</span><br><span class="line">        NSLog(@&quot;str1包含str2&quot;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        NSLog(@&quot;str1不包含str2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">// 方法2</span><br><span class="line">if ([str1 rangeOfString: str2].location == NSNotFound) &#123;</span><br><span class="line">        NSLog(@&quot;str1不包含str2&quot;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        NSLog(@&quot;str1包含str2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>


<h3 id="82、cell去除选中效果"><a href="#82、cell去除选中效果" class="headerlink" title="82、cell去除选中效果"></a>82、cell去除选中效果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cell.selectionStyle = UITableViewCellSelectionStyleNone;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="83、cell点按效果"><a href="#83、cell点按效果" class="headerlink" title="83、cell点按效果"></a>83、cell点按效果</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath &#123;</span><br><span class="line">    [tableView deselectRowAtIndexPath:indexPath animated:YES];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="84、当删除一个从xib拖出来的属性时，一定记得把xib中对应的线也删掉，不然会报类似-setValue-forUndefinedKey-this-class-is-not-key-value-coding-compliant-for-the-key的crash"><a href="#84、当删除一个从xib拖出来的属性时，一定记得把xib中对应的线也删掉，不然会报类似-setValue-forUndefinedKey-this-class-is-not-key-value-coding-compliant-for-the-key的crash" class="headerlink" title="84、当删除一个从xib拖出来的属性时，一定记得把xib中对应的线也删掉，不然会报类似[&lt;ViewController 0x7fea6ed05980&gt; setValue:forUndefinedKey:]: this class is not key value coding-compliant for the key的crash"></a>84、当删除一个从xib拖出来的属性时，一定记得把xib中对应的线也删掉，不然会报类似[&lt;ViewController 0x7fea6ed05980&gt; setValue:forUndefinedKey:]: this class is not key value coding-compliant for the key的crash</h3><p>点击这个叉号删除</p>
<h3 id="85、真机测试的时候报错：Could-not-launch-你的-App-，process-launch-failed-Security"><a href="#85、真机测试的时候报错：Could-not-launch-你的-App-，process-launch-failed-Security" class="headerlink" title="85、真机测试的时候报错：Could not launch &quot;你的 App&quot;，process launch failed: Security"></a>85、真机测试的时候报错：<code>Could not launch &quot;你的 App&quot;，process launch failed: Security</code></h3><p>因为你的app没有上线，iOS9开始，需要手动信任Xcode生成的描述文件，打开手机设置-&gt;通用-&gt;描述文件-&gt;点击你的app的描述文件-&gt;点击信任</p>
<h3 id="86、真机测试的时候报错：Could-not-find-Developer-Disk-Image"><a href="#86、真机测试的时候报错：Could-not-find-Developer-Disk-Image" class="headerlink" title="86、真机测试的时候报错：Could not find Developer Disk Image"></a>86、真机测试的时候报错：<code>Could not find Developer Disk Image</code></h3><p>这是因为你的设备系统版本大于Xcode能兼容的系统版本，比如你的设备是iOS10.3，而Xcode版本是8.2（Xcode8.2最大兼容iOS10.2），就会报这个错误。解决办法就是升级Xcode！</p>
<h3 id="87、UITextView没有placeholder的问题？"><a href="#87、UITextView没有placeholder的问题？" class="headerlink" title="87、UITextView没有placeholder的问题？"></a>87、UITextView没有placeholder的问题？</h3><p>网上有很多此类自定义控件，也可以参考下我写的一个UITextView分类 UITextView-WZB</p>
<h3 id="88、移除字符串中的空格和换行"><a href="#88、移除字符串中的空格和换行" class="headerlink" title="88、移除字符串中的空格和换行"></a>88、移除字符串中的空格和换行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+ (NSString *)removeSpaceAndNewline:(NSString *)str &#123;</span><br><span class="line">    NSString *temp = [str stringByReplacingOccurrencesOfString:@&quot; &quot; withString:@&quot;&quot;];</span><br><span class="line">    temp = [temp stringByReplacingOccurrencesOfString:@&quot;\r&quot; withString:@&quot;&quot;];</span><br><span class="line">    temp = [temp stringByReplacingOccurrencesOfString:@&quot;\n&quot; withString:@&quot;&quot;];</span><br><span class="line">    return temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="89、判断字符串中是否有空格"><a href="#89、判断字符串中是否有空格" class="headerlink" title="89、判断字符串中是否有空格"></a>89、判断字符串中是否有空格</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+ (BOOL)isBlank:(NSString *)str &#123;</span><br><span class="line">    NSRange _range = [str rangeOfString:@&quot; &quot;];</span><br><span class="line">    if (_range.location != NSNotFound) &#123;</span><br><span class="line">        //有空格</span><br><span class="line">        return YES;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        //没有空格</span><br><span class="line">        return NO;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="90、获取一个视频的第一帧图片"><a href="#90、获取一个视频的第一帧图片" class="headerlink" title="90、获取一个视频的第一帧图片"></a>90、获取一个视频的第一帧图片</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">NSURL *url = [NSURL URLWithString:filepath];</span><br><span class="line">AVURLAsset *asset1 = [[AVURLAsset alloc] initWithURL:url options:nil];</span><br><span class="line">AVAssetImageGenerator *generate1 = [[AVAssetImageGenerator alloc] initWithAsset:asset1];</span><br><span class="line">generate1.appliesPreferredTrackTransform = YES;</span><br><span class="line">NSError *err = NULL;</span><br><span class="line">CMTime time = CMTimeMake(1, 2);</span><br><span class="line">CGImageRef oneRef = [generate1 copyCGImageAtTime:time actualTime:NULL error:&amp;err];</span><br><span class="line">UIImage *one = [[UIImage alloc] initWithCGImage:oneRef];</span><br><span class="line"></span><br><span class="line">return one;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="91、获取视频的时长"><a href="#91、获取视频的时长" class="headerlink" title="91、获取视频的时长"></a>91、获取视频的时长</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+ (NSInteger)getVideoTimeByUrlString:(NSString *)urlString &#123;</span><br><span class="line">    NSURL *videoUrl = [NSURL URLWithString:urlString];</span><br><span class="line">    AVURLAsset *avUrl = [AVURLAsset assetWithURL:videoUrl];</span><br><span class="line">    CMTime time = [avUrl duration];</span><br><span class="line">    int seconds = ceil(time.value/time.timescale);</span><br><span class="line">    return seconds;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="92、字符串是否为空"><a href="#92、字符串是否为空" class="headerlink" title="92、字符串是否为空"></a>92、字符串是否为空</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">+ (BOOL)isEqualToNil:(NSString *)str &#123;</span><br><span class="line">    return str.length &lt;= 0 || [str isEqualToString:@&quot;&quot;] || !str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="93、将app上传到App-Store的时候通常会遇到这个问题"><a href="#93、将app上传到App-Store的时候通常会遇到这个问题" class="headerlink" title="93、将app上传到App Store的时候通常会遇到这个问题"></a>93、将app上传到App Store的时候通常会遇到这个问题</h3><p>try again<br>很多人说这事苹果爸爸服务器问题，重复尝试几次，总会成功的！<br>但是经过尝试发现如果使用Application Loader上传成功率就非常高，所以还是推荐把ipa文件导出直接用Application Loader上传。<br>如果Application Loader也不行，需要检查下自己的网络，有时候vpn也会提高速度。</p>
<h3 id="94、当tableView占不满一屏时，去除下边多余的单元格"><a href="#94、当tableView占不满一屏时，去除下边多余的单元格" class="headerlink" title="94、当tableView占不满一屏时，去除下边多余的单元格"></a>94、当tableView占不满一屏时，去除下边多余的单元格</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">self.tableView.tableHeaderView = [UIView new];</span><br><span class="line">self.tableView.tableFooterView = [UIView new];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="95、isKindOfClass和isMemberOfClass的区别"><a href="#95、isKindOfClass和isMemberOfClass的区别" class="headerlink" title="95、isKindOfClass和isMemberOfClass的区别"></a>95、isKindOfClass和isMemberOfClass的区别</h3><p>**<code>isKindOfClass</code>**可以判断某个对象是否属于某个类，或者这个类的子类。<br>**<code>isMemberOfClass</code>**更加精准，它只能判断这个对象类型是否为这个类(不能判断子类)</p>
<h3 id="96、-block"><a href="#96、-block" class="headerlink" title="96、__block"></a>96、__block</h3><p>当一个局部变量需要在block里改变时，需要在定义时加上__block修饰，具体请看官方文档 <a target="_blank" rel="noopener" href="http://developer.apple.com/library/ios/documentation/cocoa/Conceptual/Blocks/Articles/bxVariables.html#//apple_ref/doc/uid/TP40007502-CH6-SW6">http://developer.apple.com/library/ios/documentation/cocoa/Conceptual/Blocks/Articles/bxVariables.html#//apple_ref&#x2F;doc&#x2F;uid&#x2F;TP40007502-CH6-SW6</a></p>
<h3 id="97、-ViewController-aMethod-unrecognized-selector-sent-to-instance-0x7fe91e607fb0"><a href="#97、-ViewController-aMethod-unrecognized-selector-sent-to-instance-0x7fe91e607fb0" class="headerlink" title="97、-[ViewController aMethod:]: unrecognized selector sent to instance 0x7fe91e607fb0"></a>97、-[ViewController aMethod:]: unrecognized selector sent to instance 0x7fe91e607fb0</h3><p>这是一个经典错误，ViewController不能响应aMethod这个方法，错误原因可能viewController文件中没有实现aMethod这个方法</p>
<h3 id="98、UITableView-failed-to-obtain-a-cell-from-its-dataSource"><a href="#98、UITableView-failed-to-obtain-a-cell-from-its-dataSource" class="headerlink" title="98、UITableView (&lt;UITableView: 0x7ff19b027000; &gt;) failed to obtain a cell from its dataSource (&lt;ViewController: 0x7ff19a507520&gt;)"></a>98、UITableView (&lt;UITableView: 0x7ff19b027000; &gt;) failed to obtain a cell from its dataSource (&lt;ViewController: 0x7ff19a507520&gt;)</h3><p>这个错误原因是tableView的代理方法<code>-tableView:cellForRowAtIndexPath:</code>需要返回一个UITableViewCell,而你返回了一个nil。另外这个地方返回值不是UITableViewCell类型也会导致崩溃</p>
<h3 id="99、约束如何做UIView动画？"><a href="#99、约束如何做UIView动画？" class="headerlink" title="99、约束如何做UIView动画？"></a>99、约束如何做UIView动画？</h3><ol>
<li>把需要改的约束Constraint拖条线出来，成为属性</li>
<li>在需要动画的地方加入代码，改变此属性的constant属性</li>
<li>开始做UIView动画，动画里边调用layoutIfNeeded方法</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@property (weak, nonatomic) IBOutlet NSLayoutConstraint *buttonTopConstraint;</span><br><span class="line">self.buttonTopConstraint.constant = 100;</span><br><span class="line">    [UIView animateWithDuration:.5 animations:^&#123;</span><br><span class="line">        [self.view layoutIfNeeded];</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br></pre></td></tr></table></figure>


<h3 id="100、从NSURL中拿到链接字符串"><a href="#100、从NSURL中拿到链接字符串" class="headerlink" title="100、从NSURL中拿到链接字符串"></a>100、从NSURL中拿到链接字符串</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *urlString = myURL.absoluteString;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="101、将tableView滚动到顶部"><a href="#101、将tableView滚动到顶部" class="headerlink" title="101、将tableView滚动到顶部"></a>101、将tableView滚动到顶部</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[tableView setContentOffset:CGPointZero animated:YES];</span><br><span class="line">或者</span><br><span class="line">[tableView scrollRectToVisible:CGRectMake(0, 0, 1, 1) animated:YES];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="102、如果用addTarget-action-forControlEvents-方法为一个button添加了很多点击事件，在某个时刻想一次删除怎么办？只需要调用下边这句代码"><a href="#102、如果用addTarget-action-forControlEvents-方法为一个button添加了很多点击事件，在某个时刻想一次删除怎么办？只需要调用下边这句代码" class="headerlink" title="102、如果用addTarget:action:forControlEvents:方法为一个button添加了很多点击事件，在某个时刻想一次删除怎么办？只需要调用下边这句代码"></a>102、如果用addTarget:action:forControlEvents:方法为一个button添加了很多点击事件，在某个时刻想一次删除怎么办？只需要调用下边这句代码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[youButton removeTarget:nil action:nil forControlEvents:UIControlEventAllEvents];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="103、某个字体的高度"><a href="#103、某个字体的高度" class="headerlink" title="103、某个字体的高度"></a>103、某个字体的高度</h3><p><strong><code>font.lineHeight;</code></strong></p>
<h3 id="104、删除某个view所有的子视图"><a href="#104、删除某个view所有的子视图" class="headerlink" title="104、删除某个view所有的子视图"></a>104、删除某个view所有的子视图</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[someView subviews]</span><br><span class="line"> makeObjectsPerformSelector:@selector(removeFromSuperview)];</span><br><span class="line"> </span><br></pre></td></tr></table></figure>


<h3 id="105、删除NSUserDefaults所有记录"><a href="#105、删除NSUserDefaults所有记录" class="headerlink" title="105、删除NSUserDefaults所有记录"></a>105、删除NSUserDefaults所有记录</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//方法一</span><br><span class="line">  NSString *appDomain = [[NSBundle mainBundle] bundleIdentifier];</span><br><span class="line"> [[NSUserDefaults standardUserDefaults] removePersistentDomainForName:appDomain];   </span><br><span class="line"> //方法二  </span><br><span class="line">- (void)resetDefaults &#123;   </span><br><span class="line">  NSUserDefaults * defs = [NSUserDefaults standardUserDefaults];</span><br><span class="line">     NSDictionary * dict = [defs dictionaryRepresentation];</span><br><span class="line">     for (id key in dict) &#123;</span><br><span class="line">          [defs removeObjectForKey:key];</span><br><span class="line">     &#125;</span><br><span class="line">      [defs synchronize];</span><br><span class="line"> &#125;</span><br><span class="line">// 方法三</span><br><span class="line">[[NSUserDefaults standardUserDefaults] setPersistentDomain:[NSDictionary dictionary] forName:[[NSBundle mainBundle] bundleIdentifier]];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="106、禁用系统滑动返回功能"><a href="#106、禁用系统滑动返回功能" class="headerlink" title="106、禁用系统滑动返回功能"></a>106、禁用系统滑动返回功能</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidAppear:(BOOL)animated</span><br><span class="line">&#123;</span><br><span class="line">     [super viewDidAppear:animated];</span><br><span class="line">if ([self.navigationController respondsToSelector:@selector(interactivePopGestureRecognizer)]) &#123;self.navigationController.interactivePopGestureRecognizer.delegate = self;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)viewWillDisappear:(BOOL)animated &#123;</span><br><span class="line">    [super viewWillDisappear:animated];</span><br><span class="line">    if ([self.navigationController respondsToSelector:@selector(interactivePopGestureRecognizer)]) &#123;self.navigationController.interactivePopGestureRecognizer.delegate = nil;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer</span><br><span class="line">&#123;</span><br><span class="line">     return NO;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1</p>
<h3 id="107、模拟器报错"><a href="#107、模拟器报错" class="headerlink" title="107、模拟器报错"></a>107、模拟器报错</h3><p>模拟器报错<br>解决办法：<br>打开模拟器-&gt;Simulator-&gt;Reset Content and Settings…<br>如果不行，就重启试试！</p>
<h3 id="108、自定义cell选中背景颜色"><a href="#108、自定义cell选中背景颜色" class="headerlink" title="108、自定义cell选中背景颜色"></a>108、自定义cell选中背景颜色</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UIView *bgColorView = [[UIView alloc] init];</span><br><span class="line">bgColorView.backgroundColor = [UIColor redColor];</span><br><span class="line">[cell setSelectedBackgroundView:bgColorView];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="109、UILabel设置内边距"><a href="#109、UILabel设置内边距" class="headerlink" title="109、UILabel设置内边距"></a>109、UILabel设置内边距</h3><p>子类化UILabel，重写drawTextInRect方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (void)drawTextInRect:(CGRect)rect &#123;</span><br><span class="line">    // 边距，上左下右</span><br><span class="line">    UIEdgeInsets insets = &#123;0, 5, 0, 5&#125;;</span><br><span class="line">    [super drawTextInRect:UIEdgeInsetsInsetRect(rect, insets)];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="110、UILabel设置文字描边"><a href="#110、UILabel设置文字描边" class="headerlink" title="110、UILabel设置文字描边"></a>110、UILabel设置文字描边</h3><p>子类化UILabel，重写drawTextInRect方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- (void)drawTextInRect:(CGRect)rect</span><br><span class="line">&#123;</span><br><span class="line">    CGContextRef c = UIGraphicsGetCurrentContext();</span><br><span class="line">    // 设置描边宽度</span><br><span class="line">    CGContextSetLineWidth(c, 1);</span><br><span class="line">    CGContextSetLineJoin(c, kCGLineJoinRound);</span><br><span class="line">    CGContextSetTextDrawingMode(c, kCGTextStroke);</span><br><span class="line">    // 描边颜色</span><br><span class="line">    self.textColor = [UIColor redColor];</span><br><span class="line">    [super drawTextInRect:rect];</span><br><span class="line">    // 文本颜色</span><br><span class="line">    self.textColor = [UIColor yellowColor];</span><br><span class="line">    CGContextSetTextDrawingMode(c, kCGTextFill);</span><br><span class="line">    [super drawTextInRect:rect];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="111、使用模拟器截图"><a href="#111、使用模拟器截图" class="headerlink" title="111、使用模拟器截图"></a>111、使用模拟器截图</h3><p>快捷键command + s<br>或者File-&gt;Save Screen Shot</p>
<h3 id="112、scrollView滚动到最下边"><a href="#112、scrollView滚动到最下边" class="headerlink" title="112、scrollView滚动到最下边"></a>112、scrollView滚动到最下边</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CGPoint bottomOffset = CGPointMake(0, scrollView.contentSize.height - scrollView.bounds.size.height);</span><br><span class="line">[scrollView setContentOffset:bottomOffset animated:YES];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="113、UIView背景颜色渐变"><a href="#113、UIView背景颜色渐变" class="headerlink" title="113、UIView背景颜色渐变"></a>113、UIView背景颜色渐变</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 100)];</span><br><span class="line">[self.view addSubview:view];</span><br><span class="line">CAGradientLayer *gradient = [CAGradientLayer layer];</span><br><span class="line">gradient.frame = view.bounds;</span><br><span class="line">gradient.colors = [NSArray arrayWithObjects:(id)[[UIColor blackColor] CGColor], (id)[[UIColor whiteColor] CGColor], nil];</span><br><span class="line">[view.layer insertSublayer:gradient atIndex:0];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="114、停止UIView动画"><a href="#114、停止UIView动画" class="headerlink" title="114、停止UIView动画"></a>114、停止UIView动画</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[yourView.layer removeAllAnimations]</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="115、为UIView某个角添加圆角"><a href="#115、为UIView某个角添加圆角" class="headerlink" title="115、为UIView某个角添加圆角"></a>115、为UIView某个角添加圆角</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 左上角和右下角添加圆角</span><br><span class="line">UIBezierPath *maskPath = [UIBezierPath bezierPathWithRoundedRect:view.bounds byRoundingCorners:(UIRectCornerTopLeft | UIRectCornerBottomRight) cornerRadii:CGSizeMake(20, 20)];</span><br><span class="line">    CAShapeLayer *maskLayer = [CAShapeLayer layer];</span><br><span class="line">    maskLayer.frame = view.bounds;</span><br><span class="line">    maskLayer.path = maskPath.CGPath;</span><br><span class="line">    view.layer.mask = maskLayer;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>


<h3 id="116、删除Xcode-Derived-data缓存数据"><a href="#116、删除Xcode-Derived-data缓存数据" class="headerlink" title="116、删除Xcode Derived data缓存数据"></a>116、删除Xcode Derived data缓存数据</h3><p>依次点击Xcode -&gt; Preferences -&gt; location，然后点击 Derived data路径后到小箭头，删除这个文件夹下的数据就可以了，如图</p>
<p>Xcode Derived data</p>
<h3 id="117、将一个view放置在其兄弟视图的最上面"><a href="#117、将一个view放置在其兄弟视图的最上面" class="headerlink" title="117、将一个view放置在其兄弟视图的最上面"></a>117、将一个view放置在其兄弟视图的最上面</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[parentView bringSubviewToFront:yourView]</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="118、将一个view放置在其兄弟视图的最下面"><a href="#118、将一个view放置在其兄弟视图的最下面" class="headerlink" title="118、将一个view放置在其兄弟视图的最下面"></a>118、将一个view放置在其兄弟视图的最下面</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[parentView sendSubviewToBack:yourView]</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="119、让手机震动一下"><a href="#119、让手机震动一下" class="headerlink" title="119、让手机震动一下"></a>119、让手机震动一下</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">倒入框架</span><br><span class="line">#import &lt;AudioToolbox/AudioToolbox.h&gt;</span><br><span class="line">AudioServicesPlayAlertSound(kSystemSoundID_Vibrate);</span><br><span class="line">或者</span><br><span class="line">AudioServicesPlaySystemSound(kSystemSoundID_Vibrate);</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="120、layoutSubviews方法什么时候调用？"><a href="#120、layoutSubviews方法什么时候调用？" class="headerlink" title="120、layoutSubviews方法什么时候调用？"></a>120、layoutSubviews方法什么时候调用？</h3><ol>
<li>init方法不会调用</li>
<li>addSubview方法等时候会调用</li>
<li>bounds改变的时候调用</li>
<li>scrollView滚动的时候会调用scrollView的layoutSubviews方法(所以不建议在scrollView的layoutSubviews方法中做复杂逻辑)</li>
<li>旋转设备的时候调用</li>
<li>子视图被移除的时候调用<br>参考请看：<a target="_blank" rel="noopener" href="http://blog.logichigh.com/2011/03/16/when-does-layoutsubviews-get-called/">http://blog.logichigh.com/2011/03/16/when-does-layoutsubviews-get-called/</a></li>
</ol>
<h3 id="121、让UILabel在指定的地方换行"><a href="#121、让UILabel在指定的地方换行" class="headerlink" title="121、让UILabel在指定的地方换行"></a>121、让UILabel在指定的地方换行</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 换行符为\n,在需要换行的地方加上这个符号即可，如 </span><br><span class="line">label.numberOfLines = 0;</span><br><span class="line">label.text = @&quot;此处\n换行&quot;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="122、摇一摇功能"><a href="#122、摇一摇功能" class="headerlink" title="122、摇一摇功能"></a>122、摇一摇功能</h3><ol>
<li>打开摇一摇功能<br> [UIApplication sharedApplication].applicationSupportsShakeToEdit &#x3D; YES;</li>
<li>让需要摇动的控制器成为第一响应者<br>[self becomeFirstResponder];</li>
<li>实现以下方法</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 开始摇动</span><br><span class="line">- (void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event</span><br><span class="line">// 取消摇动</span><br><span class="line">- (void)motionCancelled:(UIEventSubtype)motion withEvent:(UIEvent *)event</span><br><span class="line">// 摇动结束</span><br><span class="line">- (void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="123、获取图片大小"><a href="#123、获取图片大小" class="headerlink" title="123、获取图片大小"></a>123、获取图片大小</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CGFloat imageWidth = image.size.width;</span><br><span class="line">    CGFloat imageHeight = imageWidth * image.scale;</span><br><span class="line">    </span><br></pre></td></tr></table></figure>


<h3 id="124、获取view的坐标在整个window上的位置"><a href="#124、获取view的坐标在整个window上的位置" class="headerlink" title="124、获取view的坐标在整个window上的位置"></a>124、获取view的坐标在整个window上的位置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// v上的(0, 0)点在toView上的位置</span><br><span class="line">CGPoint point = [v convertPoint:CGPointMake(0, 0) toView:[UIApplication sharedApplication].windows.lastObject];</span><br><span class="line">或者</span><br><span class="line">CGPoint point = [v.superview convertPoint:v.frame.origin toView:[UIApplication sharedApplication].windows.lastObject];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="125、提交App-Store审核程序限制"><a href="#125、提交App-Store审核程序限制" class="headerlink" title="125、提交App Store审核程序限制"></a>125、提交App Store审核程序限制</h3><p>您的应用程序的未压缩大小必须小于4GB。每个Mach-O可执行文件（例如app_name.app&#x2F;app_name）不能超过这些限制：<br>对于MinimumOSVersion小于7.0的应用程序：TEXT二进制文件中所有部分的总数最多为80 MB 。<br>对于MinimumOSVersion7.x到8.x的应用程序：TEXT对于二进制文件中每个体系结构片段的每个片段，最大为60 MB 。<br>对于MinimumOSVersion9.0或更高版本的应用程序：__TEXT二进制文件中所有部分的总数最多为500 MB 。参阅：iTunes Connect开发者指南</p>
<h3 id="126、修改UISegmentedControl的字体大小"><a href="#126、修改UISegmentedControl的字体大小" class="headerlink" title="126、修改UISegmentedControl的字体大小"></a>126、修改UISegmentedControl的字体大小</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[segment setTitleTextAttributes:@&#123;NSFontAttributeName : [UIFont systemFontOfSize:15.0f]&#125; forState:UIControlStateNormal];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="127、在非ViewController的地方弹出UIAlertController对话框"><a href="#127、在非ViewController的地方弹出UIAlertController对话框" class="headerlink" title="127、在非ViewController的地方弹出UIAlertController对话框"></a>127、在非ViewController的地方弹出UIAlertController对话框</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//  最好抽成一个分类</span><br><span class="line">UIAlertController *alertController = [UIAlertController alertControllerWithTitle:@&quot;Title&quot; message:@&quot;message&quot; preferredStyle:UIAlertControllerStyleAlert];</span><br><span class="line">//...</span><br><span class="line">id rootViewController = [UIApplication sharedApplication].delegate.window.rootViewController;</span><br><span class="line">if([rootViewController isKindOfClass:[UINavigationController class]])</span><br><span class="line">&#123;</span><br><span class="line">    rootViewController = ((UINavigationController *)rootViewController).viewControllers.firstObject;</span><br><span class="line">&#125;</span><br><span class="line">if([rootViewController isKindOfClass:[UITabBarController class]])</span><br><span class="line">&#123;</span><br><span class="line">    rootViewController = ((UITabBarController *)rootViewController).selectedViewController;</span><br><span class="line">&#125;</span><br><span class="line">[rootViewController presentViewController:alertController animated:YES completion:nil];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="128、获取一个view所属的控制器"><a href="#128、获取一个view所属的控制器" class="headerlink" title="128、获取一个view所属的控制器"></a>128、获取一个view所属的控制器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// view分类方法</span><br><span class="line">- (UIViewController *)belongViewController &#123;</span><br><span class="line">    for (UIView *next = [self superview]; next; next = next.superview) &#123;</span><br><span class="line">        UIResponder* nextResponder = [next nextResponder];</span><br><span class="line">        if ([nextResponder isKindOfClass:[UIViewController class]]) &#123;</span><br><span class="line">            return (UIViewController *)nextResponder;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="129、UIImage和base64互转"><a href="#129、UIImage和base64互转" class="headerlink" title="129、UIImage和base64互转"></a>129、UIImage和base64互转</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// view分类方法</span><br><span class="line">- (NSString *)encodeToBase64String:(UIImage *)image &#123;</span><br><span class="line"> return [UIImagePNGRepresentation(image) base64EncodedStringWithOptions:NSDataBase64Encoding64CharacterLineLength];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (UIImage *)decodeBase64ToImage:(NSString *)strEncodeData &#123;</span><br><span class="line">  NSData *data = [[NSData alloc]initWithBase64EncodedString:strEncodeData options:NSDataBase64DecodingIgnoreUnknownCharacters];</span><br><span class="line">  return [UIImage imageWithData:data];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="130、UIWebView设置背景透明"><a href="#130、UIWebView设置背景透明" class="headerlink" title="130、UIWebView设置背景透明"></a>130、UIWebView设置背景透明</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[webView setBackgroundColor:[UIColor clearColor]];</span><br><span class="line">[webView setOpaque:NO];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="131、判断NSDate是不是今天"><a href="#131、判断NSDate是不是今天" class="headerlink" title="131、判断NSDate是不是今天"></a>131、判断NSDate是不是今天</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">NSDateComponents *otherDay = [[NSCalendar currentCalendar] components:NSCalendarUnitEra | NSCalendarUnitYear | NSCalendarUnitMonth | NSCalendarUnitDay fromDate:aDate];</span><br><span class="line">NSDateComponents *today = [[NSCalendar currentCalendar] components:NSCalendarUnitEra | NSCalendarUnitYear | NSCalendarUnitMonth | NSCalendarUnitDay fromDate:[NSDate date]];</span><br><span class="line">if([today day] == [otherDay day] &amp;&amp;</span><br><span class="line">   [today month] == [otherDay month] &amp;&amp;</span><br><span class="line">   [today year] == [otherDay year] &amp;&amp;</span><br><span class="line">   [today era] == [otherDay era]) &#123;</span><br><span class="line">    // 是今天</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="132、设置tableView分割线颜色"><a href="#132、设置tableView分割线颜色" class="headerlink" title="132、设置tableView分割线颜色"></a>132、设置tableView分割线颜色</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[self.tableView setSeparatorColor:[UIColor myColor]];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="133、设置屏幕方向"><a href="#133、设置屏幕方向" class="headerlink" title="133、设置屏幕方向"></a>133、设置屏幕方向</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> NSNumber *orientationTarget = [NSNumber numberWithInt:UIInterfaceOrientationLandscapeLeft];</span><br><span class="line">[[UIDevice currentDevice] setValue:orientationTarget forKey:@&quot;orientation&quot;];</span><br><span class="line">[UIViewController attemptRotationToDeviceOrientation];</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="134、比较两个颜色是否相等"><a href="#134、比较两个颜色是否相等" class="headerlink" title="134、比较两个颜色是否相等"></a>134、比较两个颜色是否相等</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)isEqualToColor:(UIColor *)otherColor &#123;</span><br><span class="line">    CGColorSpaceRef colorSpaceRGB = CGColorSpaceCreateDeviceRGB();</span><br><span class="line"></span><br><span class="line">    UIColor *(^convertColorToRGBSpace)(UIColor*) = ^(UIColor *color) &#123;</span><br><span class="line">        if (CGColorSpaceGetModel(CGColorGetColorSpace(color.CGColor)) == kCGColorSpaceModelMonochrome) &#123;</span><br><span class="line">            const CGFloat *oldComponents = CGColorGetComponents(color.CGColor);</span><br><span class="line">            CGFloat components[4] = &#123;oldComponents[0], oldComponents[0], oldComponents[0], oldComponents[1]&#125;;</span><br><span class="line">            CGColorRef colorRef = CGColorCreate( colorSpaceRGB, components );</span><br><span class="line"></span><br><span class="line">            UIColor *color = [UIColor colorWithCGColor:colorRef];</span><br><span class="line">            CGColorRelease(colorRef);</span><br><span class="line">            return color;            </span><br><span class="line">        &#125; else</span><br><span class="line">            return color;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    UIColor *selfColor = convertColorToRGBSpace(self);</span><br><span class="line">    otherColor = convertColorToRGBSpace(otherColor);</span><br><span class="line">    CGColorSpaceRelease(colorSpaceRGB);</span><br><span class="line"></span><br><span class="line">    return [selfColor isEqual:otherColor];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="135、tableViewCell分割线顶到头"><a href="#135、tableViewCell分割线顶到头" class="headerlink" title="135、tableViewCell分割线顶到头"></a>135、tableViewCell分割线顶到头</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath &#123;</span><br><span class="line">    [cell setSeparatorInset:UIEdgeInsetsZero];</span><br><span class="line">    [cell setLayoutMargins:UIEdgeInsetsZero];</span><br><span class="line">    cell.preservesSuperviewLayoutMargins = NO;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)viewDidLayoutSubviews &#123;</span><br><span class="line">    [self.tableView setSeparatorInset:UIEdgeInsetsZero];</span><br><span class="line">    [self.tableView setLayoutMargins:UIEdgeInsetsZero];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="136、不让控制器的view随着控制器的xib拉伸或压缩"><a href="#136、不让控制器的view随着控制器的xib拉伸或压缩" class="headerlink" title="136、不让控制器的view随着控制器的xib拉伸或压缩"></a>136、不让控制器的view随着控制器的xib拉伸或压缩</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.view.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="137、cocoaPods报错-Unable-to-add-a-source-with-url-https-github-com-CocoaPods-Specs-git-named-master-1"><a href="#137、cocoaPods报错-Unable-to-add-a-source-with-url-https-github-com-CocoaPods-Specs-git-named-master-1" class="headerlink" title="137、cocoaPods报错 : [!] Unable to add a source with url https://github.com/CocoaPods/Specs.git named master-1."></a>137、cocoaPods报错 : <code>[!] Unable to add a source with url https://github.com/CocoaPods/Specs.git named master-1.</code></h3><p><code>You can try adding it manually in ~/.cocoapods/repos or via pod repo add.</code></p>
<p>**<code>解决办法</code>**：这是因为电脑里安装了另外一个Xcode导致cocoapods找不到路径了<br>在终端执行 <code>sudo xcode-select -switch /Applications/Xcode.app</code> 即可</p>
<h3 id="138、安装cocoapods的时候出现-ERROR-While-executing-gem-…-Errno-EPERM"><a href="#138、安装cocoapods的时候出现-ERROR-While-executing-gem-…-Errno-EPERM" class="headerlink" title="138、安装cocoapods的时候出现 ERROR: While executing gem … (Errno::EPERM)"></a>138、安装cocoapods的时候出现 ERROR: While executing gem … (Errno::EPERM)</h3><p>Operation not permitted - &#x2F;usr&#x2F;bin&#x2F;pod<br>**<code>解决办法</code>**：直接在终端执行 sudo gem install -n &#x2F;usr&#x2F;local&#x2F;bin cocoapods</p>
<h3 id="139、在状态栏增加网络请求的菊花，类似safari加载网页的时候状态栏菊花"><a href="#139、在状态栏增加网络请求的菊花，类似safari加载网页的时候状态栏菊花" class="headerlink" title="139、在状态栏增加网络请求的菊花，类似safari加载网页的时候状态栏菊花"></a>139、在状态栏增加网络请求的菊花，类似safari加载网页的时候状态栏菊花</h3><p>[UIApplication sharedApplication].networkActivityIndicatorVisible &#x3D; YES;</p>
<h3 id="140、检查一个rect是否包含一个point"><a href="#140、检查一个rect是否包含一个point" class="headerlink" title="140、检查一个rect是否包含一个point"></a>140、检查一个rect是否包含一个point</h3><p>&#x2F;&#x2F; point是否在rect内</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BOOL isContains = CGRectContainsPoint(rect, point);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="141、在指定的宽度下，让UILabel自动设置最佳font"><a href="#141、在指定的宽度下，让UILabel自动设置最佳font" class="headerlink" title="141、在指定的宽度下，让UILabel自动设置最佳font"></a>141、在指定的宽度下，让UILabel自动设置最佳font</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">label.adjustsFontSizeToFitWidth = YES;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="142、将一个image保存在相册中"><a href="#142、将一个image保存在相册中" class="headerlink" title="142、将一个image保存在相册中"></a>142、将一个image保存在相册中</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">UIImageWriteToSavedPhotosAlbum(image, nil, nil, nil);</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line">#import &lt;Photos/Photos.h&gt;</span><br><span class="line">[[PHPhotoLibrary sharedPhotoLibrary] performChanges:^&#123;</span><br><span class="line">        PHAssetChangeRequest *changeRequest = [PHAssetChangeRequest creationRequestForAssetFromImage:image];</span><br><span class="line">        changeRequest.creationDate          = [NSDate date];</span><br><span class="line">    &#125; completionHandler:^(BOOL success, NSError *error) &#123;</span><br><span class="line">        if (success) &#123;</span><br><span class="line">            NSLog(@&quot;successfully saved&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            NSLog(@&quot;error saving to photos: %@&quot;, error);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h3 id="143、修改cell-imageView的大小"><a href="#143、修改cell-imageView的大小" class="headerlink" title="143、修改cell.imageView的大小"></a>143、修改cell.imageView的大小</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UIImage *icon = [UIImage imageNamed:@&quot;&quot;];</span><br><span class="line">CGSize itemSize = CGSizeMake(30, 30);</span><br><span class="line">UIGraphicsBeginImageContextWithOptions(itemSize, NO ,0.0);</span><br><span class="line">CGRect imageRect = CGRectMake(0.0, 0.0, itemSize.width, itemSize.height);</span><br><span class="line">[icon drawInRect:imageRect];</span><br><span class="line">cell.imageView.image = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">UIGraphicsEndImageContext();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="144、为一个view添加虚线边框"><a href="#144、为一个view添加虚线边框" class="headerlink" title="144、为一个view添加虚线边框"></a>144、为一个view添加虚线边框</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CAShapeLayer *border = [CAShapeLayer layer];</span><br><span class="line">   border.strokeColor = [UIColor colorWithRed:67/255.0f green:37/255.0f blue:83/255.0f alpha:1].CGColor;</span><br><span class="line">   border.fillColor = nil;</span><br><span class="line">   border.lineDashPattern = @[@4, @2];</span><br><span class="line">   border.path = [UIBezierPath bezierPathWithRect:view.bounds].CGPath;</span><br><span class="line">   border.frame = view.bounds;</span><br><span class="line">   [view.layer addSublayer:border];</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<h3 id="145、UITextView中打开或禁用复制，剪切，选择，全选等功能"><a href="#145、UITextView中打开或禁用复制，剪切，选择，全选等功能" class="headerlink" title="145、UITextView中打开或禁用复制，剪切，选择，全选等功能"></a>145、UITextView中打开或禁用复制，剪切，选择，全选等功能</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// 继承UITextView重写这个方法</span><br><span class="line">- (BOOL)canPerformAction:(SEL)action withSender:(id)sender</span><br><span class="line">&#123;</span><br><span class="line">// 返回NO为禁用，YES为开启</span><br><span class="line">    // 粘贴</span><br><span class="line">    if (action == @selector(paste:)) return NO;</span><br><span class="line">    // 剪切</span><br><span class="line">    if (action == @selector(cut:)) return NO;</span><br><span class="line">    // 复制</span><br><span class="line">    if (action == @selector(copy:)) return NO;</span><br><span class="line">    // 选择</span><br><span class="line">    if (action == @selector(select:)) return NO;</span><br><span class="line">    // 选中全部</span><br><span class="line">    if (action == @selector(selectAll:)) return NO;</span><br><span class="line">    // 删除</span><br><span class="line">    if (action == @selector(delete:)) return NO;</span><br><span class="line">    // 分享</span><br><span class="line">    if (action == @selector(share)) return NO;</span><br><span class="line">    return [super canPerformAction:action withSender:sender];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><div class="article-licensing box"><div class="licensing-title"><p>iOS开发经验总结(一)</p><p><a href="https://rzrobert.github.io/2017/07/11/iOS开发经验总结-一/">https://rzrobert.github.io/2017/07/11/iOS开发经验总结-一/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>robert</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2017-07-11</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2023-12-18</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E6%80%BB%E7%BB%93/">总结</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://apps.shopify.com/sharethis-share-buttons" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2017/07/11/iOS%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93-%E4%BA%8C/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">iOS开发经验总结(二)</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2017/06/29/ReactNative-iOS%E7%9C%9F%E6%9C%BA%E8%B0%83%E8%AF%95%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8IP/"><span class="level-item">ReactNative-iOS真机调试自动配置服务器IP</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Kommentare</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://rzrobert.github.io/2017/07/11/iOS%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93-%E4%B8%80/';
            this.page.identifier = '2017/07/11/iOS开发经验总结-一/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'rzheng' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Your name"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Your name</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Your location</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Seiten</p><a href="/archives"><p class="title">44</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Kategorien</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">12</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">Folgen</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Kategorien</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/JS/"><span class="level-start"><span class="level-item">JS</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/ReactNative/"><span class="level-start"><span class="level-item">ReactNative</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/iOS/"><span class="level-start"><span class="level-item">iOS</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/iOS%E4%B8%8ERN/"><span class="level-start"><span class="level-item">iOS与RN</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/iOS%E5%B0%8F%E7%89%87%E6%AE%B5/"><span class="level-start"><span class="level-item">iOS小片段</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/tools/"><span class="level-start"><span class="level-item">tools</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AC%94%E8%AE%B0/"><span class="level-start"><span class="level-item">笔记</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Letzte Einträge</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-18T11:55:54.000Z">2023-12-18</time></p><p class="title"><a href="/2023/12/18/Flutter-%E5%90%84%E7%A7%8D%E5%88%97%E8%A1%A8%E6%9B%9D%E5%85%89%E6%96%B9%E6%A1%88/">Flutter 各种列表曝光方案</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-03-02T08:12:22.000Z">2023-03-02</time></p><p class="title"><a href="/2023/03/02/dart-%E5%AE%9E%E7%8E%B0%E5%8D%A1%E5%B0%94%E6%9B%BC%E6%BB%A4%E6%B3%A2/">dart 实现卡尔曼滤波</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-15T10:50:37.000Z">2023-02-15</time></p><p class="title"><a href="/2023/02/15/Flutter%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6/">Flutter事件机制</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-08T07:41:38.000Z">2023-02-08</time></p><p class="title"><a href="/2023/02/08/flutter-%E8%87%AA%E5%AE%9A%E4%B9%89flex%E7%BB%84%E4%BB%B6/">flutter 自定义flex组件</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-11-14T08:57:24.000Z">2022-11-14</time></p><p class="title"><a href="/2022/11/14/Flutter-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD/">Flutter 自定义图片下载</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archive</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/"><span class="level-start"><span class="level-item">2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/"><span class="level-start"><span class="level-item">2021</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/"><span class="level-start"><span class="level-item">2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/"><span class="level-start"><span class="level-item">2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/"><span class="level-start"><span class="level-item">2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/"><span class="level-start"><span class="level-item">2017</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/H5/"><span class="tag">H5</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JS/"><span class="tag">JS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Node-js/"><span class="tag">Node.js</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flutter/"><span class="tag">flutter</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/image/"><span class="tag">image</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/note/"><span class="tag">note</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tools/"><span class="tag">tools</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%80%BB%E7%BB%93/"><span class="tag">总结</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%95%B4%E7%90%86/"><span class="tag">技术点整理</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AC%94%E8%AE%B0/"><span class="tag">笔记</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%80%9A%E4%BF%A1/"><span class="tag">通信</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="任征的个人博客" height="28"></a><p class="is-size-7"><span>&copy; 2023 robert</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-hans");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Zurück nach oben" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "Diese Website verwendet Cookies, um Ihre Erfahrung zu verbessern.",
          dismiss: "Verstanden!",
          allow: "Cookies zulassen",
          deny: "Ablehnen",
          link: "Mehr erfahren",
          policy: "Cookie-Richtlinie",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Tippen Sie etwas..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Tippen Sie etwas...","untitled":"(Ohne Titel)","posts":"Seiten","pages":"Pages","categories":"Kategorien","tags":"Tags"});
        });</script></body></html>